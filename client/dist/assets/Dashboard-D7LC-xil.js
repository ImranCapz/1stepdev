import{r as d,c as yt,b as je,a as le,j as t,d as we,L as De,R as sr,p as kn,s as Pn,e as dt,g as On,h as mt,_ as ge,i as Ge,k as Ze,m as Bt,T as q,S as $r,n as Hr,o as Rr,q as Br,F as qr,t as or,v as ir,w as Ce,x as En,y as Tn,G as tr,z as P,P as m,A as Dn,B as Ur,C as Fe,D as zr,E as Wr,H as Vr,I as _n,J as Kr,K as An,M as Ln,N as Gr}from"./index-2dypNf-m.js";import{H as lr}from"./index-BLXqM-EL.js";import{M as cr,a as ur,b as Zr,c as Mn,d as Fn,e as In}from"./index-CKOtztUj.js";import{I as dr,a as mr}from"./index-D6UgTsxn.js";import $n from"./Profile-DcCDQeJL.js";import{_ as rr,I as fr,C as Hn}from"./CreateProvider-DIrnwgu_.js";import{F as Yr,a as Jr,C as Qr,b as Rn}from"./react-content-loader.es-C3HNwbxk.js";import{c as Bn,a as Dt}from"./animation-BL6VsgIS.js";import{l as Xr}from"./index-CGwCSIWv.js";import{P as en}from"./index-DVav-aSE.js";import"./index.esm2017-wnqVnyhB.js";import"./state-BqLwYTed.js";var ft=function(){return ft=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},ft.apply(this,arguments)},qn=function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n},Un=Bn("BeatLoader","50% {transform: scale(0.75);opacity: 0.2} 100% {transform: scale(1);opacity: 1}","beat");function zn(e){var r=e.loading,n=r===void 0?!0:r,a=e.color,s=a===void 0?"#000000":a,o=e.speedMultiplier,i=o===void 0?1:o,l=e.cssOverride,c=l===void 0?{}:l,u=e.size,f=u===void 0?15:u,h=e.margin,y=h===void 0?2:h,C=qn(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),j=ft({display:"inherit"},c),N=function(D){return{display:"inline-block",backgroundColor:s,width:Dt(f),height:Dt(f),margin:Dt(y),borderRadius:"100%",animation:"".concat(Un," ").concat(.7/i,"s ").concat(D%2?"0s":"".concat(.35/i,"s")," infinite linear"),animationFillMode:"both"}};return n?d.createElement("span",ft({style:j},C),d.createElement("span",{style:N(1)}),d.createElement("span",{style:N(2)}),d.createElement("span",{style:N(3)})):null}function Wn(){const e=yt(),[r,n]=d.useState(""),[a,s]=d.useState("dashboard"),o=je();le(c=>c.user),d.useEffect(()=>{const u=new URLSearchParams(e.search).get("tab");u&&n(u)},[e.search]);const i=async()=>{try{const c=await fetch("/server/auth/signout",{method:"GET"}),u=await c.json();c.ok?(o(kn()),o(Pn())):console.log(u.message)}catch(c){console.log(c.message)}},l=[{name:"Dashboard",icon:sr,link:"/dashboard?tab=dashboard"},{name:"Providers",icon:cr,link:"/dashboard?tab=providers"},{name:"Messages",icon:dr,link:"/dashboard?tab=messages"},{name:"Profile",icon:ur,link:"/dashboard?tab=profile"},{name:"Sign Out",icon:lr,link:"/"}];return t.jsxs(t.Fragment,{children:[t.jsx(we,{className:"w-full hidden md:flex",children:t.jsx(we.Items,{children:t.jsxs(we.ItemGroup,{className:"w-screen flex flex-row gap-2 items-center",children:[t.jsx(De,{to:"/dashboard?tab=dashboard",children:t.jsx(we.Item,{active:r==="dashboard",className:"mt-2",icon:sr,labelColor:"light",as:"div",children:"Dashboard"})}),t.jsx(De,{to:"/dashboard?tab=providers",children:t.jsx(we.Item,{active:r==="providers",icon:cr,labelColor:"light",as:"div",children:"Providers"})}),t.jsx(De,{to:"/dashboard?tab=messages",children:t.jsx(we.Item,{active:r==="messages",icon:dr,labelColor:"light",as:"div",children:"Message"})}),t.jsx(De,{to:"/dashboard?tab=profile",children:t.jsx(we.Item,{active:r==="profile",icon:ur,labelColor:"light",as:"div",children:"Profile"})}),t.jsx(we.Item,{icon:lr,className:"cursor-pointer",onClick:i,children:"Sign Out"})]})})}),t.jsx("div",{className:" h-20 w-full fixed bottom-0 bg-slate-200 hidden z-10",children:t.jsx("div",{className:"flex flex-row items-center justify-around w-full",children:l.map((c,u)=>t.jsx("div",{children:t.jsx(De,{to:c.link,children:t.jsx("div",{className:`text-2xl ${a===c.name?"provideritem-name -translate-y-2 transition-all duration-500":"text-gray-500"}`,onClick:()=>s(c.name),children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("p",{children:c.icon()}),t.jsx("p",{className:"text-xs",children:c.name})]})})})},u))})})]})}function Vn(){return t.jsx("div",{children:"Overview Component"})}function Kn(){var Q,U,_,I,A,$,W,Y,X,re,ne,x,L,F,p,O;const{currentUser:e,error:r}=le(v=>v.user),n=je(),[a,s]=d.useState(!1),[o,i]=d.useState(!1),l=d.useRef(null),[c,u]=d.useState(),[f,h]=d.useState(),[y,C]=d.useState(!1),[j,N]=d.useState(!0),[D,b]=d.useState(!0),[g,E]=d.useState({isParent:!1,parentDetails:{fullName:"",lookingFor:[],childName:"",dob:"",gender:"",height:"",weight:"",bloodGroup:"",medicalHistory:"",allergies:"",emergencyContact:f,insurance:"",address:"",phoneNumber:c}}),k=v=>{let T=v.target.value;v.target.id==="phoneNumber"&&(T.length!==10?N(!1):N(!0)),v.target.id==="isParent"?(T=v.target.value==="Yes",E({...g,isParent:T})):E({...g,parentDetails:{...g.parentDetails,[v.target.id]:T}}),C(!0)},H=async v=>{var T,S;if(v.preventDefault(),!!y){if(((T=g.parentDetails)==null?void 0:T.phoneNumber.length)!==13){ge.error("Phone number should be 10 digits"),N(!1);return}else N(!0);if(((S=g.parentDetails)==null?void 0:S.emergencyContact.length)!==13){ge.error("Emergency Contact should be 10 digits"),b(!1);return}else b(!0);n(Ge());try{l.current.continuousStart(50),n(Ge()),i(!0);const B=await(await fetch(`server/parent/updateparent/${e._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)})).json();if(B.success===!1){n(Ze(B));return}n(Bt(B)),g.isParent?ge.success("Parent details updated successfully"):ge.error("Parent Details Successfully Removed"),i(!1)}catch(M){n(Ze(M))}finally{l.current.complete()}}};return d.useEffect(()=>{(async()=>{var T,S,M,B,V,G,oe,ce,z,J,se,he,xe,ue,ke;n(Ge()),s(!0);try{const ee=await(await fetch(`server/parent/getparent/${e._id}`)).json();if(ee.success===!1)return;const Pe={isParent:ee.isParent||!1,lookingFor:((T=ee.parentDetails)==null?void 0:T.lookingFor)||[],childName:((S=ee.parentDetails)==null?void 0:S.childName)||"",fullName:((M=ee.parentDetails)==null?void 0:M.fullName)||"",dob:(B=ee.parentDetails)!=null&&B.dob?new Date((V=ee.parentDetails)==null?void 0:V.dob).toISOString().split("T")[0]:"",gender:((G=ee.parentDetails)==null?void 0:G.gender)||"",height:((oe=ee.parentDetails)==null?void 0:oe.height)||"",weight:((ce=ee.parentDetails)==null?void 0:ce.weight)||"",bloodGroup:((z=ee.parentDetails)==null?void 0:z.bloodGroup)||"",medicalHistory:((J=ee.parentDetails)==null?void 0:J.medicalHistory)||"",allergies:((se=ee.parentDetails)==null?void 0:se.allergies)||"",emergencyContact:((he=ee.parentDetails)==null?void 0:he.emergencyContact)||"",insurance:((xe=ee.parentDetails)==null?void 0:xe.insurance)||"",address:((ue=ee.parentDetails)==null?void 0:ue.address)||"",phoneNumber:((ke=ee.parentDetails)==null?void 0:ke.phoneNumber)||""};E({isParent:ee.isParent||!1,parentDetails:Pe}),n(Bt(ee))}catch(Ne){console.log(Ne),n(Ze(Ne))}s(!1)})()},[e._id,n]),t.jsxs("div",{className:"p-3 flex-col items-center rounded-lg",children:[t.jsx(dt,{ref:l,color:"#ff9900",height:3}),a?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"50vh"},children:t.jsx(rr,{color:"#10ebd8",loading:a,size:15})}):t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"flex",children:t.jsx("h1",{className:"p-2 text-gray font-bold text-2xl",children:"Your Parent Details :"})}),t.jsxs("form",{onSubmit:H,className:"p-4 flex flex-col sm:flex-row md:gap-4 gap-4 md:w-[1200px] mx-auto justify-center",children:[t.jsxs("div",{className:"flex flex-col flex-1 gap-2",children:[t.jsx("label",{htmlFor:"isParent",className:"text-sm font-semibold text-main",children:"Are you a parent?"}),t.jsxs("select",{id:"isParent",name:"isParent",value:g.isParent?"Yes":"No",onChange:k,className:"input border-2 p-2 rounded-lg focus:ring-0",required:!0,children:[t.jsx("option",{value:"",children:"Select"}),t.jsx("option",{value:"Yes",children:"Yes"}),t.jsx("option",{value:"No",children:"No"})]}),t.jsx("label",{htmlFor:"gender",className:"text-sm font-semibold text-main",children:"Gender:"}),t.jsxs("select",{id:"gender",name:"gender",value:(Q=g.parentDetails)==null?void 0:Q.gender,onChange:k,className:"input border-2 p-2 rounded-lg  focus:outline-none focus:ring-0",required:!0,children:[t.jsx("option",{value:"",children:"Select Gender"}),t.jsx("option",{value:"Male",children:"Male"}),t.jsx("option",{value:"Female",children:"Female"}),t.jsx("option",{value:"Other",children:"Other"})]}),t.jsx("label",{className:"text-sm font-semibold text-main",children:"BloodGroup*"}),t.jsx("input",{type:"text",placeholder:"BloodGroup",className:"input border-2 p-2 rounded-lg focus:outline-none focus:ring-0",id:"bloodGroup",required:!0,onChange:k,value:(U=g.parentDetails)==null?void 0:U.bloodGroup}),t.jsx("label",{htmlFor:"gender",className:"text-sm font-semibold text-main",children:t.jsxs("p",{className:"flex flex-row items-center",children:[!D&&t.jsx(mr,{className:"text-red-700 text-sm"}),"Emergency Contact :"," "]})}),t.jsx(fr,{placeholder:"Emergency Contact",className:`border-2 p-2 input rounded-lg focus:outline-none focus:ring-0 ${j?"":"error"}`,value:(_=g.parentDetails)==null?void 0:_.emergencyContact,onChange:v=>{h(v),E({...g,parentDetails:{...g.parentDetails,emergencyContact:v}}),C(!0)},required:!0}),!D&&t.jsx("p",{className:"text-sm text-red-500 font-semibold",children:"Please enter a 10-digit number"}),t.jsx("label",{htmlFor:"gender",className:"text-sm font-semibold text-main",children:"Address : (city, state, pincode)"}),t.jsx("textarea",{type:"text",placeholder:"Address",className:"border-2 p-2 rounded-lg input focus:outline-none focus:ring-0",id:"address",required:!0,onChange:k,value:(I=g.parentDetails)==null?void 0:I.address})]}),t.jsxs("div",{className:"flex flex-col flex-1 gap-2 w-full",children:[t.jsx("label",{name:"fullName",className:"text-sm font-semibold text-main",children:"Enter your Full Name :"}),t.jsx("input",{type:"text",placeholder:"Full Name",className:"input border-2 p-2 rounded-lg focus:ring-0",id:"fullName",maxLength:"62",minLength:"5",required:!0,onChange:k,value:(A=g.parentDetails)==null?void 0:A.fullName}),t.jsx("label",{name:"fullName",className:"text-sm font-semibold text-main",children:"Enter your DOB :"}),t.jsx("input",{type:"date",placeholder:"Date of Birth",className:"input border-2 p-2 rounded-lg  focus:ring-0",id:"dob",required:!0,onChange:k,value:($=g.parentDetails)==null?void 0:$.dob}),t.jsx("label",{className:"text-sm font-semibold text-main",children:"Height*"}),t.jsx("input",{type:"text",placeholder:"Height",className:"input border-2 p-2 rounded-lg  focus:outline-none focus:ring-0",id:"height",required:!0,onChange:k,value:(W=g.parentDetails)==null?void 0:W.height}),t.jsx("label",{className:"text-sm font-semibold text-main",children:"Medical History*"}),t.jsx("input",{type:"text",placeholder:"Medical History",className:"input border-2 p-2 rounded-lg focus:outline-none focus:ring-0",id:"medicalHistory",required:!0,onChange:k,value:(Y=g.parentDetails)==null?void 0:Y.medicalHistory}),t.jsx("label",{htmlFor:"gender",className:"text-sm font-semibold text-main",children:"Insurance :"}),t.jsx("input",{type:"text",placeholder:"Insurance",className:"border-2 p-2 rounded-lg input focus:outline-none focus:ring-0",id:"insurance",required:!0,onChange:k,value:(X=g.parentDetails)==null?void 0:X.insurance})]}),t.jsxs("div",{className:"flex flex-col flex-1 gap-2 w-full",children:[t.jsx("label",{name:"fullName",className:"text-sm font-semibold text-main",children:"What therapy your looking for?"}),t.jsx(On,{id:"name",options:mt,isMulti:!0,required:!0,placeholder:"looking for?",touchUi:!1,className:"border-2 rounded-lg border-slate-300 bg-white input hover:border-purple-400",defaultValue:Array.isArray((re=g.parentDetails)==null?void 0:re.lookingFor)?(ne=g.parentDetails)==null?void 0:ne.lookingFor.map(v=>mt.find(T=>T.value===v)):[],onChange:v=>{E(T=>({...T,parentDetails:{...T.parentDetails,lookingFor:v.map(S=>S.value)}})),C(!0)},styles:{control:v=>({...v,backgroundColor:"transparent",minWidth:"160px",border:"none",outline:"none",boxShadow:"none",transition:"all 0.3s ease"})}},(x=g.parentDetails)==null?void 0:x.lookingFor),t.jsx("label",{className:"text-sm font-semibold text-main",children:"Child Name*"}),t.jsx("input",{type:"text",placeholder:"Child Name",className:"input border-2 p-2 rounded-lg focus:outline-none focus:ring-0 ",id:"childName",required:!0,onChange:k,value:(L=g.parentDetails)==null?void 0:L.childName}),t.jsx("label",{className:"text-sm font-semibold text-main",children:"Weight*"}),t.jsx("input",{type:"text",placeholder:"Weight",className:"input border-2 p-2 rounded-lg focus:outline-none focus:ring-0 ",id:"weight",required:!0,onChange:k,value:(F=g.parentDetails)==null?void 0:F.weight}),t.jsx("label",{className:"text-sm font-semibold text-main",children:"Allergies :"}),t.jsx("input",{type:"text",placeholder:"Allergies",className:"input border-2 p-2 rounded-lg focus:outline-none focus:ring-0",id:"allergies",required:!0,onChange:k,value:(p=g.parentDetails)==null?void 0:p.allergies}),t.jsx("label",{className:"text-sm font-semibold text-main",children:t.jsxs("p",{className:"flex flex-row items-center",children:[!j&&t.jsx(mr,{className:"text-red-700 text-sm"}),"Phone Number :"," "]})}),t.jsx(fr,{placeholder:"Enter phone number",className:`border-2 p-2 input rounded-lg focus:outline-none focus:ring-0 ${j?"":"error"}`,value:(O=g.parentDetails)==null?void 0:O.phoneNumber,onChange:v=>{u(v),E({...g,parentDetails:{...g.parentDetails,phoneNumber:v}}),C(!0)},required:!0}),!j&&t.jsx("p",{className:"text-sm text-red-500 font-semibold",children:"Please enter a 10-digit number"}),t.jsx("button",{disabled:!y||a,className:"p-2 btn-color rounded-lg mt-8 font-semibold rounded=lg uppercase hover:opacity-95 disabled:opacity-60 transition ease-in-out duration-300",children:o?"Saving...":"Save"}),r&&t.jsx("p",{className:"text-red-700 text-xs",children:r})]})]})]})]})}function Gn(){const[e,r]=d.useState([]),{currentUser:n}=le(o=>o.user),{loading:a}=le(o=>o.booking),s=je();return d.useEffect(()=>{(async()=>{const i=`/server/booking/getuserbookings/${n._id}`;console.log("Fetching bookings from URL:",i);try{s(Hr());const l=await fetch(i);if(console.log("Response status:",l.status),!l.ok)throw new Error(`HTTP error! status: ${l.status}`);const c=await l.json();s(Rr(c)),console.log("Booking data:",c);const u=c.map(f=>({...f})).sort((f,h)=>new Date(h.updatedAt)-new Date(f.updatedAt));r(u)}catch(l){s(Br(l)),console.error("An error occurred while fetching booking details:",l)}})()},[n._id,s]),t.jsx(t.Fragment,{children:t.jsx("div",{className:`table-auto md:mx-auto p-3 scrollbar scrollbar-track-slate-100 scrollbar-thumb-slate-300 max-h-screen ${e&&e.length>0?"overflow-x-scroll md:overflow-x-auto":""}`,children:a?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"},children:t.jsx(zn,{color:"#10ebd8",loading:a,size:15})}):e&&e.length>0?t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"px-2 text-2xl text-gray font-bold mb-4",children:"Your Bookings :"}),t.jsxs(q,{hoverable:!0,className:"shadow-md w-full",children:[t.jsxs(q.Head,{children:[t.jsx(q.HeadCell,{children:"Provider Name"}),t.jsx(q.HeadCell,{children:"Services"}),t.jsx(q.HeadCell,{children:"Scheduled Time"}),t.jsx(q.HeadCell,{children:"Session Type"}),t.jsx(q.HeadCell,{children:"Note"}),t.jsx(q.HeadCell,{children:"Status"}),t.jsx(q.HeadCell,{children:"Process"})]}),e.map(o=>t.jsx(q.Body,{className:"divide-y",children:t.jsxs(q.Row,{className:"bg-white text-gray-600",children:[t.jsx(q.Cell,{children:o.providerDetails.fullName}),t.jsx(q.Cell,{children:o.service.join(", ")}),t.jsx(q.Cell,{children:new Date(o.scheduledTime).toLocaleDateString()}),t.jsx(q.Cell,{children:o.sessionType}),t.jsx(q.Cell,{children:o.note}),t.jsxs(q.Cell,{children:[o.status==="pending"?t.jsx("p",{className:"",children:t.jsx(Zr,{})}):"",o.status==="approved"?t.jsx("p",{className:"",children:t.jsx(Yr,{})}):"",o.status==="rejected"?t.jsx("p",{className:"justify-center items-center",children:t.jsx(Jr,{})}):""]}),t.jsx(q.Cell,{children:o.status})]})},o._id))]})]}):t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl text-gray font-bold mb-5 max-h-screen",children:"No Bookings Yet"}),t.jsx("div",{className:"flex flex-col mx-auto items-center",children:t.jsx($r,{})})]})})})}function Zn(){const{currentUser:e}=le(_=>_.user),[r,n]=d.useState({isParent:!0,parentDetails:{fullName:"",lookingFor:[],childName:"",dob:"",gender:"",height:"",weight:"",bloodGroup:"",medicalHistory:"",allergies:"",emergencyContact:"",insurance:"",address:"",phoneNumber:""}}),[a,s]=d.useState(0),[o,i]=d.useState({}),[l,c]=d.useState(!1),[u,f]=d.useState(5),h=je(),y=()=>{s(a-1)},j=a/5*100,N=_=>{const{name:I,value:A}=_.target,$=I.split(".");$.length===2?n(W=>({...W,[$[0]]:{...W[$[0]],[$[1]]:A}})):n(W=>({...W,[I]:A}))},D=async _=>{_.preventDefault(),h(Ge());try{h(Ge());const A=await(await fetch(`server/parent/updateparent/${e._id}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();if(A.success===!1){h(Ze(A));return}h(Bt(A)),ge.success("Parent saved successfully")}catch(I){h(Ze(I))}},b=()=>{const _={};return a===0&&r.parentDetails.lookingFor.length===0&&(_.lookingFor="Please select at least one service"),a===0&&!/^[A-Za-z\s]+$/.test(r.parentDetails.fullName)&&(_.fullName="Name must contains only alphabets"),a===1&&!/^[A-Za-z\s]+$/.test(r.parentDetails.childName)&&(_.childName="Name must contains only alphabets"),a===4&&!/^[0-9]{10}$/.test(r.parentDetails.phoneNumber)&&(_.phoneNumber="Phone number must be 10 digits"),i(_),Object.keys(_).length===0},g=_=>{_.preventDefault();try{if(b()){const I=window.innerWidth<=768?140:240;window.scrollTo({top:I,behavior:"smooth"}),s(a+1)}}catch{console.log("Failed to save data.")}},E=(_,I)=>{n(A=>{const $=A.parentDetails[_]||[],W=$.includes(I)?$.filter(Y=>Y!==I):[...$,I];return{...A,parentDetails:{...A.parentDetails,[_]:W}}})},k=_=>{switch(_){case 0:return"Providing accurate personal information helps us tailor our services to meet your specific needs.";case 1:return"Accurate child information ensures appropriate and personalized care for your child.";case 2:return"Providing accurate physical information helps us better understand and address your child's health needs.";case 3:return"Comprehensive medical information is crucial for effective and safe medical care.";case 4:return"Providing accurate contact information ensures we can reach you when necessary.";default:return""}},H=_=>{switch(_){case 0:return"Rules: Must be at least 3 characters long. Ensure it's your legal name for accurate records. Indicate the specific service you're looking for. Helps us direct you to the right resources and support.";case 1:return"Rules: Ensure it matches your child's legal documents. Must be a valid date. Select from Male, Female, or Other. Helps us in providing gender-appropriate care.";case 2:return"Rules: Must be a positive number in centimeters. Helps us track growth and development accurately. Must be a positive number in kilograms. Crucial for determining appropriate dosages and care. Indicate a valid blood group type (eg, A+, B-, O+). Essential for emergency medical situations.";case 3:return"Rules: Optional but recommended. Helps us understand past medical conditions for better care. Optional but recommended. Helps us avoid substances that may cause allergic reactions. Must be a valid phone number. Essential for contacting you in urgent situations. Provide details if available for processing insurance claims.";case 4:return"Rules: Helps us locate you for home visits or deliveries. Must be a valid phone number. Crucial for communication and follow-ups.";default:return""}},Q=_=>{const A=H(_).split(".").filter($=>$.trim()!=="");return t.jsx("ul",{className:"menu-subTextColor mt-2 text-xs md:text-lg",children:A.map(($,W)=>t.jsxs("li",{className:"mb-2",children:[$.trim(),"."]},W))})},U=(_,I)=>_.map(A=>{var $;return t.jsx("button",{type:"button",disabled:A.isDisabled,className:`p-3 m-1 rounded-lg border ${($=r.parentDetails[I])!=null&&$.includes(A.value)?"menu-Button text-white":`bg-blue-100 ${A.isDisabled?"text-gray-400":"text-gray-700"}`}`,onClick:()=>E(I,A.value),children:A.value},A.value)});return l?t.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",children:[t.jsx("h1",{className:"text-3xl font-bold text-center text-green-600",children:"Data saved successfully"}),t.jsxs("h1",{className:"text-3xl font-bold text-center text-green-600",children:["Redirecting to dashboard in ",u]})]}):t.jsxs("div",{children:[t.jsx("div",{className:"fixed progress-bg w-full h-1.5 top-0 z-50",children:t.jsx("div",{className:"progress-bgs h-full transition-width duration-500 ease-in-out",style:{width:`${j}%`}})}),t.jsxs("div",{className:"container flex flex-col mx-auto",children:[t.jsx("h1",{className:"text-lg md:text-2xl m-10 text-left font-bold text-gray",children:"Fill the form for Parent Profile :"}),t.jsxs("div",{className:"flex flex-col md:flex-row md:gap-10 rounded-lg justify-center items-center",children:[t.jsx("div",{className:"flex-col h-auto p-2 max-w-lg text-left",children:t.jsxs("div",{className:"border-l-4 menu-borderColor md:p-6 lg:p-8 p-4 secondary-bg rounded-3xl ",children:[t.jsxs("h2",{className:"flex flex-row  items-center gap-2 menu-textColor text-2xl font-bold",children:[t.jsx(qr,{})," Good To Know"]}),t.jsx("p",{className:"menu-subTextColor mt-2 text-xs md:text-lg justify-between",children:k(a)}),t.jsx("p",{className:"menu-subTextColor mt-2 text-xs md:text-lg justify-between",children:Q(a)})]})}),t.jsxs("form",{onSubmit:g,className:"w-full md:w-[500px]",children:[a===0&&t.jsxs("div",{className:"flex flex-col p-6 rounded-lg",children:[t.jsx("label",{className:"p-1 menu-headTextColor font-bold mb-2",children:"Parent Name :"}),t.jsx("input",{type:"text",className:"input border-2 p-2 rounded-lg focus:outline-none focus:ring-0",placeholder:"full name",onChange:N,value:r.parentDetails.fullName,name:"parentDetails.fullName",required:!0}),o.fullName&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:o.fullName}),t.jsx("p",{className:"font-bold menu-headTextColor mt-5 mb-4",children:"What service are you looking for ?"}),t.jsx("p",{className:"flex flex-col max-h-64 overflow-y-auto",children:U(mt,"lookingFor")}),o.lookingFor&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:o.lookingFor}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",disabled:!0,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),a===1&&t.jsxs("div",{className:"p-6 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold menu-headTextColor mb-10",children:"Child Information"}),t.jsx("label",{className:"mb-2 menu-headTextColor font-bold",children:"Child Name"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 mt-5 mb-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter child fullname",onChange:N,value:r.parentDetails.childName,name:"parentDetails.childName",required:!0}),o.childName&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:o.childName}),t.jsx("label",{className:"menu-headTextColor font-bold mt-5",children:"Date of Birth"}),t.jsx("input",{type:"date",placeholder:"select date",className:"w-full p-3 rounded-lg border-gray-300 mt-5 input border-2 focus:outline-none focus:ring-0",value:r.parentDetails.dob,onChange:N,name:"parentDetails.dob",required:!0}),t.jsxs("div",{className:"mb-4 mt-5",children:[t.jsx("label",{htmlFor:"gender",className:"block menu-headTextColor font-bold mb-5 ",children:"Gender"}),t.jsxs("select",{id:"gender",name:"parentDetails.gender",onChange:N,value:r.parentDetails.gender,placeholder:"select gender",className:"w-full p-3 rounded-lg border-gray-300 mb-5 input border-2 focus:outline-none focus:ring-0",children:[t.jsx("option",{value:"male",children:"Male"}),t.jsx("option",{value:"female",children:"Female"}),t.jsx("option",{value:"other",children:"Other"})]})]}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-300 text-slate-600",type:"button",onClick:y,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),a===2&&t.jsxs("div",{className:"p-6 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold menu-headTextColor mb-10",children:"Physical Information"}),t.jsx("label",{className:"mb-5 menu-headTextColor font-bold",children:"Height"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 mt-5 mb-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter height in cm",onChange:N,value:r.parentDetails.height,name:"parentDetails.height",required:!0}),t.jsx("label",{className:"mt-5 menu-headTextColor font-bold",children:"Weight"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 mb-5 mt-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter weight in kg",onChange:N,value:r.parentDetails.weight,name:"parentDetails.weight",required:!0}),t.jsx("label",{className:"mb-5 menu-headTextColor font-bold",children:"Blood Group"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 mb-5 mt-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter blood group (e.g., A+, B-, O+)",onChange:N,value:r.parentDetails.bloodGroup,name:"parentDetails.bloodGroup",required:!0}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-300 text-slate-600",type:"button",onClick:y,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),a===3&&t.jsxs("div",{className:"p-6 rounded-lg",children:[t.jsx("p",{className:"text-2xl font-bold menu-headTextColor mb-10",children:"Medical Information"}),t.jsx("label",{className:"mt-5 menu-headTextColor font-bold",children:"Medical History"}),t.jsx("input",{type:"textarea",className:"w-full p-3 rounded-lg border-gray-300 mb-5 mt-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter Medical History",onChange:N,value:r.parentDetails.medicalHistory,name:"parentDetails.medicalHistory",required:!0}),t.jsx("label",{className:"mt-5 menu-headTextColor font-bold",children:"Allergies"}),t.jsx("input",{type:"textarea",className:"w-full p-3 rounded-lg border-gray-300 mb-5 mt-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter any allergies",onChange:N,value:r.parentDetails.allergies,name:"parentDetails.allergies",required:!0}),t.jsx("label",{className:"mt-5 menu-headTextColor font-bold",children:"Emergency Contact"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 mb-5 mt-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter emergency contact number",onChange:N,value:r.parentDetails.emergencyContact,name:"parentDetails.emergencyContact",required:!0}),t.jsx("label",{className:"mb-5 menu-headTextColor font-bold",children:"Insurance"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 mb-5 mt-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter insurance details",onChange:N,value:r.parentDetails.insurance,name:"parentDetails.insurance",required:!0}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-300 text-slate-600",type:"button",onClick:y,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),a===4&&t.jsx("div",{className:"p-6 rounded-lg",children:t.jsxs("form",{children:[t.jsx("p",{className:"text-2xl font-bold menu-headTextColor mb-10",children:"Contact Information"}),t.jsx("label",{className:"mb-5 menu-headTextColor font-bold",children:"Address"}),t.jsx("input",{type:"textarea",className:"w-full p-3 rounded-lg border-gray-300 mb-5 mt-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter your full address",onChange:N,value:r.parentDetails.address,name:"parentDetails.address",required:!0}),t.jsx("label",{className:"mb-5 menu-headTextColor font-bold",children:"Phone Number"}),t.jsx("input",{type:"textarea",className:"w-full p-3 rounded-lg border-gray-300 mb-5 mt-5 input border-2 focus:outline-none focus:ring-0",placeholder:"Enter your phone number",onChange:N,value:r.parentDetails.phoneNumber,name:"parentDetails.phoneNumber",required:!0}),o.phoneNumber&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:o.phoneNumber}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-300 text-slate-600",type:"button",onClick:y,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"button",onClick:D,children:"Save"})]})]})})]})]})]})]})}function Yn(){const[e,r]=d.useState("Profile setting"),{currentUser:n}=le(h=>h.user),[a,s]=d.useState(!1),o=yt(),i=je(),{bookings:l,hasApprovedBooking:c,lastSeenBookingId:u}=le(h=>h.booking),f=d.useMemo(()=>[{title:"Profile setting"},{title:"Parent Details"},{title:"Bookings"}],[]);return d.useEffect(()=>{e!=="Bookings"&&s(!1)},[e]),d.useEffect(()=>{if(Array.isArray(l)){const h=l.filter(y=>y.status==="approved");if(h.length>0){const y=h[h.length-1];y._id!==u&&(i(or(!0)),i(ir(y._id)))}}},[l,i,u]),d.useEffect(()=>{const y=new URLSearchParams(o.search).get("tag");y&&f.find(j=>j.title===y)&&r(y)},[o.search,f]),t.jsxs("div",{className:"flex flex-col w-full transition-all duration-500 ",children:[t.jsx("nav",{className:"block border-b items-start",children:t.jsx("ul",{className:" flex items-center gap-x-3 max-w-screen-2xl mx-auto px-4 overflow-x-auto lg:px-8",children:f.map((h,y)=>t.jsx("li",{className:"py-1",children:t.jsx(De,{to:`?tag=${h.title}`,className:`block py-2 px-3 rounded-lg md:text-base text-sm text-gray-700 hover:text-amber-500 hover:bg-amber-100 duration-150 ${e===h.title?"border-b-2 border-amber-500":""}`,onClick:()=>{if(h.title==="Bookings"){s(!1);const C=l.filter(j=>j.status==="approved");if(C.length>0){const j=C[C.length-1];i(ir(j._id)),i(or(!1))}}},children:t.jsxs("span",{className:"flex flex-row items-center gap-1",children:[h.title,h.title==="Bookings"&&c&&t.jsx(Mn,{})]})})},y))})}),e==="Profile setting"&&t.jsx("div",{className:"w-full min-h-screen transition-all duration-500",children:t.jsx($n,{})}),e==="Parent Details"&&t.jsx("div",{className:"items-start",children:n.isParent?t.jsx(Kn,{}):t.jsx(Zn,{})}),e==="Bookings"&&t.jsxs("div",{className:"w-full p-2 ",children:[t.jsx("h1",{className:"flex flex-col font-bold text-2xl"}),t.jsx(Gn,{})]})]})}function Jn(){const[e,r]=d.useState([]),[n,a]=d.useState({}),s=je(),{currentUser:o}=le(u=>u.user),i=d.useCallback(async u=>{const h=await(await fetch(`/server/booking/getbookings/${u}`)).json();if(h.success===!1)return;const y=h.sort((C,j)=>new Date(j.createdAt)-new Date(C.createdAt));r(y)},[]);d.useEffect(()=>{(async()=>{const h=await(await fetch(`/server/user/providers/${o._id}`)).json();h.success!==!1&&(a(h),h[0]&&i(h[0]._id))})()},[o._id,i]);const l=async u=>{s(En(u)).then(async()=>{ge.success("Appointment Approved",{position:"bottom-left"}),n[0]&&i(n[0]._id);const f=e.find(C=>C._id===u),y=await(await fetch("/server/booking/emailbookingAccept",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:f.patientDetails.email,subject:"1Step Appointment Approved",providerName:n[0].fullName,service:f.service.join(", "),name:o.username,providerProfile:n[0].profilePicture,time:f.scheduledTime})})).json();if(y.success===!1){console.log("Email not sent");return}y.success===!0&&console.log("Email sent")})},c=async u=>{s(Tn(u)).then(()=>{ge.error("Appointment Rejected",{position:"bottom-left"}),n[0]&&i(n[0]._id)})};return t.jsx(t.Fragment,{children:t.jsx("div",{className:"table-auto overflow-x-scroll md:mx-auto p-3 scrollbar scrollbar-track-slate-100 scrollbar-thumb-slate-300 ",children:e&&e.length>0?t.jsxs(t.Fragment,{children:[t.jsx("h1",{className:"text-2xl text-gray font-bold mb-5",children:"Your Appointments :"}),t.jsxs(q,{hoverable:!0,className:"shadow-md w-full",children:[t.jsxs(q.Head,{children:[t.jsx(q.HeadCell,{children:"Patient Name"}),t.jsx(q.HeadCell,{children:"Services they Need"}),t.jsx(q.HeadCell,{children:"Scheduled Time"}),t.jsx(q.HeadCell,{children:"Session Type"}),t.jsx(q.HeadCell,{children:"Note"}),t.jsx(q.HeadCell,{children:"Status"}),t.jsx(q.HeadCell,{children:"Action"})]}),e.map(u=>t.jsx(q.Body,{className:"divide-y",children:t.jsxs(q.Row,{className:"bg-white text-gray-600",children:[t.jsx(q.Cell,{children:u.patientDetails.username}),t.jsx(q.Cell,{children:u.service.join(", ")}),t.jsx(q.Cell,{children:u.scheduledTime}),t.jsx(q.Cell,{children:u.sessionType}),t.jsx(q.Cell,{children:u.note}),t.jsxs(q.Cell,{children:[u.status==="pending"?t.jsx("div",{className:"flex justify-center items-center",children:t.jsx(Zr,{})}):"",u.status==="approved"?t.jsx("div",{className:"flex justify-center items-center",children:t.jsx(Yr,{})}):"",u.status==="rejected"?t.jsx("div",{className:"flex justify-center items-center",children:t.jsx(Jr,{})}):""]}),t.jsx(q.Cell,{className:"flex flex-row gap-2",children:u.status==="approved"?t.jsxs(t.Fragment,{children:[t.jsx(Ce.Button,{className:"bg-emerald-600",disabled:u.status==="approved",children:"Accepted"}),t.jsx(Ce.Button,{className:"bg-red-500",onClick:()=>c(u._id),children:"Reject"})]}):u.status==="pending"?t.jsxs(t.Fragment,{children:[t.jsx(Ce.Button,{className:"bg-emerald-600",onClick:()=>l(u._id),children:"Accept"}),t.jsx(Ce.Button,{className:"bg-red-500",onClick:()=>c(u._id),disabled:u.status==="rejected",children:"Reject"})]}):u.status==="rejected"?t.jsxs(t.Fragment,{children:[t.jsx(Ce.Button,{className:"bg-emerald-600",onClick:()=>l(u._id),children:"Accepted"}),t.jsx(Ce.Button,{className:"bg-red-500",onClick:()=>c(u._id),disabled:u.status==="rejected",children:"Rejected"})]}):""})]})},u._id))]})]}):t.jsx("h1",{className:"text-2xl text-gray font-bold mb-5",children:"No Appointment Yet"})})})}function tn(e){return tr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"m21.426 11.095-17-8A.999.999 0 0 0 3.03 4.242L4.969 12 3.03 19.758a.998.998 0 0 0 1.396 1.147l17-8a1 1 0 0 0 0-1.81zM5.481 18.197l.839-3.357L12 12 6.32 9.16l-.839-3.357L18.651 12l-13.17 6.197z"},child:[]}]})(e)}var Qn=["date","verboseDate","tooltip","children"];function qt(){return qt=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},qt.apply(this,arguments)}function Xn(e,r){if(e==null)return{};var n=ea(e,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function ea(e,r){if(e==null)return{};var n={},a=Object.keys(e),s,o;for(o=0;o<a.length;o++)s=a[o],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function pt(e,r){var n=e.date,a=e.verboseDate,s=e.tooltip,o=e.children,i=Xn(e,Qn),l=d.useMemo(function(){return n.toISOString()},[n]);return P.createElement("time",qt({ref:r},i,{dateTime:l,title:s?a:void 0}),o)}pt=P.forwardRef(pt);pt.propTypes={date:m.instanceOf(Date).isRequired,verboseDate:m.string,tooltip:m.bool.isRequired,children:m.string.isRequired};function Ut(e){"@babel/helpers - typeof";return Ut=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ut(e)}function ta(e){if(rn())return Intl.DateTimeFormat.supportedLocalesOf(e)[0]}function rn(){var e=(typeof Intl>"u"?"undefined":Ut(Intl))==="object";return e&&typeof Intl.DateTimeFormat=="function"}function ht(e){"@babel/helpers - typeof";return ht=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ht(e)}function ra(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function na(e,r){for(var n=0;n<r.length;n++){var a=r[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function aa(e,r,n){return r&&na(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var nn=function(){function e(){ra(this,e),this.cache={}}return aa(e,[{key:"get",value:function(){for(var n=this.cache,a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];for(var i=0,l=s;i<l.length;i++){var c=l[i];if(ht(n)!=="object")return;n=n[c]}return n}},{key:"put",value:function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];for(var o=a.pop(),i=a.pop(),l=this.cache,c=0,u=a;c<u.length;c++){var f=u[c];ht(l[f])!=="object"&&(l[f]={}),l=l[f]}return l[i]=o}}]),e}(),pr=new nn,sa=rn(),oa=function(r){return r.toString()};function ia(e,r){if(!sa)return oa;var n=ca(e),a=JSON.stringify(r),s=pr.get(String(n),a)||pr.put(String(n),a,new Intl.DateTimeFormat(n,r));return function(o){return s.format(o)}}const la=Dn(ia);var _t={};function ca(e){var r=e.toString();return _t[r]?_t[r]:_t[r]=ta(e)}function zt(e){"@babel/helpers - typeof";return zt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},zt(e)}function ua(e){return da(e)?e:new Date(e)}function da(e){return e instanceof Date||ma(e)}function ma(e){return zt(e)==="object"&&typeof e.getTime=="function"}var hr=new nn;function fa(e,r){var n=r.polyfill,a=String(e)+":"+String(n);return hr.get(a)||hr.put(a,new Ur(e,{polyfill:n}))}var jt={exports:{}},Ve={exports:{}};(function(){var e,r,n,a,s,o;typeof performance<"u"&&performance!==null&&performance.now?Ve.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Ve.exports=function(){return(e()-s)/1e6},r=process.hrtime,e=function(){var i;return i=r(),i[0]*1e9+i[1]},a=e(),o=process.uptime()*1e9,s=a-o):Date.now?(Ve.exports=function(){return Date.now()-n},n=Date.now()):(Ve.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(Fe);var pa=Ve.exports,ha=pa,be=typeof window>"u"?Fe:window,at=["moz","webkit"],He="AnimationFrame",Be=be["request"+He],Je=be["cancel"+He]||be["cancelRequest"+He];for(var We=0;!Be&&We<at.length;We++)Be=be[at[We]+"Request"+He],Je=be[at[We]+"Cancel"+He]||be[at[We]+"CancelRequest"+He];if(!Be||!Je){var At=0,xr=0,Te=[],xa=1e3/60;Be=function(e){if(Te.length===0){var r=ha(),n=Math.max(0,xa-(r-At));At=n+r,setTimeout(function(){var a=Te.slice(0);Te.length=0;for(var s=0;s<a.length;s++)if(!a[s].cancelled)try{a[s].callback(At)}catch(o){setTimeout(function(){throw o},0)}},Math.round(n))}return Te.push({handle:++xr,callback:e,cancelled:!1}),xr},Je=function(e){for(var r=0;r<Te.length;r++)Te[r].handle===e&&(Te[r].cancelled=!0)}}jt.exports=function(e){return Be.call(be,e)};jt.exports.cancel=function(){Je.apply(be,arguments)};jt.exports.polyfill=function(e){e||(e=be),e.requestAnimationFrame=Be,e.cancelAnimationFrame=Je};var ga=jt.exports;const gr=zr(ga);function va(e,r){if(e.length===0)return 0;for(var n=0,a=e.length-1,s;n<=a;){s=Math.floor((a+n)/2);var o=r(e[s]);if(o===0)return s;if(o<0){if(n=s+1,n>a)return n}else if(a=s-1,a<n)return n}}function ba(e,r){return wa(e)||Na(e,r)||ja(e,r)||ya()}function ya(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ja(e,r){if(e){if(typeof e=="string")return vr(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(e,r)}}function vr(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function Na(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],s=!0,o=!1,i,l;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!(r&&a.length===r));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return a}}function wa(e){if(Array.isArray(e))return e}const Ca={instances:[],add:function(r){var n=this,a=this.instances.length===0;return an(this.instances,r),a&&this.start(),{stop:function(){sn(n.instances,r),n.instances.length===0&&n.stop()},forceUpdate:function(){br(r,n.instances)}}},tick:function(){for(var r=Date.now();;){var n=this.instances[0];if(r>=n.nextUpdateTime)br(n,this.instances);else break}},scheduleNextTick:function(){var r=this;this.scheduledTick=gr(function(){r.tick(),r.scheduleNextTick()})},start:function(){this.scheduleNextTick()},stop:function(){gr.cancel(this.scheduledTick)}};function Sa(e){var r=e.getNextValue(),n=ba(r,2),a=n[0],s=n[1];e.setValue(a),e.nextUpdateTime=s}function br(e,r){Sa(e),sn(r,e),an(r,e)}function an(e,r){var n=ka(e,r);e.splice(n,0,r)}function sn(e,r){var n=e.indexOf(r);e.splice(n,1)}function ka(e,r){var n=r.nextUpdateTime;return va(e,function(a){return a.nextUpdateTime===n?0:a.nextUpdateTime>n?1:-1})}function st(e,r){return Ta(e)||Ea(e,r)||Oa(e,r)||Pa()}function Pa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oa(e,r){if(e){if(typeof e=="string")return yr(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yr(e,r)}}function yr(e,r){(r==null||r>e.length)&&(r=e.length);for(var n=0,a=new Array(r);n<r;n++)a[n]=e[n];return a}function Ea(e,r){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var a=[],s=!0,o=!1,i,l;try{for(n=n.call(e);!(s=(i=n.next()).done)&&(a.push(i.value),!(r&&a.length===r));s=!0);}catch(c){o=!0,l=c}finally{try{!s&&n.return!=null&&n.return()}finally{if(o)throw l}}return a}}function Ta(e){if(Array.isArray(e))return e}function Da(e){var r=e.date,n=e.future,a=e.locale,s=e.locales,o=e.timeStyle,i=e.round,l=e.minTimeLeft,c=e.formatVerboseDate,u=e.verboseDateFormat,f=u===void 0?La:u,h=e.updateInterval,y=e.tick,C=y===void 0?!0:y,j=e.now,N=e.timeOffset,D=N===void 0?0:N,b=e.polyfill,g=d.useMemo(function(){return a&&(s=[a]),s.concat(Ur.getDefaultLocale())},[a,s]),E=d.useMemo(function(){return fa(g,{polyfill:b})},[g,b]);r=d.useMemo(function(){return ua(r)},[r]);var k=d.useCallback(function(){var x=(j||Date.now())-D,L;if(n&&x>=r.getTime()&&(x=r.getTime(),L=!0),l!==void 0){var F=r.getTime()-l*1e3;x>F&&(x=F,L=!0)}var p=E.format(r,o,{getTimeToNextUpdate:!0,now:x,future:n,round:i}),O=st(p,2),v=O[0],T=O[1];return L?T=Aa:T=h||T||60*1e3,[v,x+T]},[r,n,o,h,i,l,E,j]),H=d.useRef();H.current=k;var Q=d.useMemo(k,[]),U=st(Q,2),_=U[0],I=U[1],A=d.useState(_),$=st(A,2),W=$[0],Y=$[1],X=d.useRef();d.useEffect(function(){if(C)return X.current=Ca.add({getNextValue:function(){return H.current()},setValue:Y,nextUpdateTime:I}),function(){return X.current.stop()}},[C]),d.useEffect(function(){if(X.current)X.current.forceUpdate();else{var x=k(),L=st(x,1),F=L[0];Y(F)}},[k]);var re=d.useMemo(function(){return la(g,f)},[g,f]),ne=d.useMemo(function(){return c?c(r):re(r)},[r,c,re]);return{date:r,formattedDate:W,verboseDate:ne}}var _a=365*24*60*60*1e3,Aa=1e3*_a,La={weekday:"long",day:"numeric",month:"long",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit"},Wt=m.oneOfType,jr=m.arrayOf,Ie=m.string,Nr=m.number,Ke=m.shape,ot=m.func,Ma=Wt([Ke({minTime:Nr,formatAs:Ie.isRequired}),Ke({test:ot,formatAs:Ie.isRequired}),Ke({minTime:Nr,format:ot.isRequired}),Ke({test:ot,format:ot.isRequired})]),Fa=Wt([Ie,Ke({steps:jr(Ma).isRequired,labels:Wt([Ie,jr(Ie)]).isRequired,round:Ie})]),Ia=["date","future","timeStyle","round","minTimeLeft","locale","locales","formatVerboseDate","verboseDateFormat","updateInterval","tick","now","timeOffset","polyfill","tooltip","component","container","wrapperComponent","wrapperProps"];function xt(){return xt=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},xt.apply(this,arguments)}function $a(e,r){if(e==null)return{};var n=Ha(e,r),a,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(s=0;s<o.length;s++)a=o[s],!(r.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function Ha(e,r){if(e==null)return{};var n={},a=Object.keys(e),s,o;for(o=0;o<a.length;o++)s=a[o],!(r.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Qe(e){var r=e.date,n=e.future,a=e.timeStyle,s=e.round,o=e.minTimeLeft,i=e.locale,l=e.locales,c=l===void 0?[]:l,u=e.formatVerboseDate,f=e.verboseDateFormat,h=e.updateInterval,y=e.tick,C=e.now,j=e.timeOffset,N=e.polyfill,D=e.tooltip,b=D===void 0?!0:D,g=e.component,E=g===void 0?pt:g,k=e.container,H=e.wrapperComponent,Q=e.wrapperProps,U=$a(e,Ia),_=Da({date:r,future:n,timeStyle:a,round:s,minTimeLeft:o,locale:i,locales:c,formatVerboseDate:u,verboseDateFormat:f,updateInterval:h,tick:y,now:C,timeOffset:j,polyfill:N}),I=_.date,A=_.verboseDate,$=_.formattedDate,W=P.createElement(E,xt({date:I,verboseDate:A,tooltip:b},U),$),Y=H||k;return Y?P.createElement(Y,xt({},Q,{verboseDate:A}),W):W}Qe.propTypes={date:m.oneOfType([m.instanceOf(Date),m.number]).isRequired,locale:m.string,locales:m.arrayOf(m.string),future:m.bool,timeStyle:Fa,round:m.string,minTimeLeft:m.number,component:m.elementType,tooltip:m.bool,formatVerboseDate:m.func,verboseDateFormat:m.object,updateInterval:m.oneOfType([m.number,m.arrayOf(m.shape({threshold:m.number,interval:m.number.isRequired}))]),tick:m.bool,now:m.number,timeOffset:m.number,polyfill:m.bool,wrapperComponent:m.elementType,wrapperProps:m.object};Qe=P.memo(Qe);function on(e){return tr({tag:"svg",attr:{viewBox:"0 0 15 15",fill:"none"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"},child:[]}]})(e)}function gt(e){return tr({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M12 18a6 6 0 1 0 0-12 6 6 0 0 0 0 12Z"},child:[]}]})(e)}function Ra(){const{currentUser:e}=le(p=>p.user),{currentProvider:r}=le(p=>p.provider),{user:n}=le(p=>p.provider),{onlineAllUsers:a}=le(p=>p.online),[s,o]=d.useState([]),[i,l]=d.useState(""),[c,u]=d.useState(null),[f,h]=d.useState([]),[y,C]=d.useState([]),[j,N]=d.useState([]),D=d.useRef(null),b=d.useRef(null),[g,E]=d.useState(!0),[k,H]=d.useState(!0),[Q,U]=d.useState(!1),_=je(),I="http://localhost:3000",[A,$]=d.useState(null),[W,Y]=d.useState("");d.useEffect(()=>{const p=Xr(I,{withCredentials:!0});return $(p),p.emit("Online",r._id),p.on("UserOnline",({userId:O})=>{_(Wr(O))}),p.on("UserOut",({userId:O})=>{_(Vr(O))}),()=>{p.close()}},[r._id,_]),d.useEffect(()=>{if(!A)return;const p=({sender:O,message:v,provider:T,userid:S})=>{if(n!==S){ge.success(`new message from ${O}`);return}const M={sender:O,message:v,provider:T,userid:S,createdAt:new Date};C(B=>[...B,M]),N(B=>[...B,M]),o(B=>B.map(G=>G._id===n?{...G,lastMessage:M}:G))};return A.on("receiveMessage",p),()=>A.off("receiveMessage",p)},[A,n]);const X=()=>{W===""&&ge.error("Message cannot be empty"),A&&(A.emit("joinRoom",{roomId:`${c._id}_${i}`,sender:e._id,provider:i,reciever:c._id}),A.emit("sendMessage",{roomId:`${c._id}_${i}`,message:W,sender:e._id,provider:i,userid:c._id,reciever:c._id}),Y(""))};d.useEffect(()=>{if(c&&A){const p=`${c._id}_${i}`;A.emit("joinRoom",{roomId:p,sender:e._id,provider:i,receiver:c._id})}},[c,A,e._id,i]),d.useEffect(()=>{(async()=>{try{E(!0),b.current.continuousStart(50);const v=await(await fetch(`/server/message/getuserprovider/${e._id}`)).json();if(v.success===!1){E(!1);return}o(v.users),l(v.providerId),E(!1),b.current.complete(50)}catch(O){E(!1),console.log(O)}})()},[e._id]);const re=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),X())};d.useEffect(()=>{const p=()=>{D.current&&D.current.scrollTop<=50&&ne()};if(D.current){const O=D.current;return O.addEventListener("scroll",p),()=>{O&&O.removeEventListener("scroll",p)}}},[j]);const ne=()=>{const O=j.length,v=f.slice(Math.max(0,f.length-O-10),f.length-O);N([...v,...j])},x=()=>{if(D.current){const{scrollHeight:p,clientHeight:O}=D.current,v=p-O;D.current.scrollTop=v>0?v:0}};d.useEffect(()=>{x()},[f,y]);const L=()=>{U(!0)},F=async p=>{u(p),U(!1);const O=`${p._id}_${i}`;try{const T=await(await fetch(`/server/message/getmessage/${O}`)).json();if(T.success===!1)return;h(T),N(T.slice(-9));const S=T.filter(M=>!M.read&&M.sender!==e._id);await Promise.all(S.map(async M=>fetch(`/server/message/markasread/${M._id}`,{method:"PUT",headers:{"Content-Type":"application/json"}}))),N(M=>M.map(B=>B.sender!==e._id?{...B,read:!0}:B)),o(M=>M.map(V=>{var G;return V._id===p._id&&((G=V.lastMessage)==null?void 0:G.sender)!==e._id?{...V,lastMessage:{...V.lastMessage,read:!0}}:V}))}catch(v){console.log(v)}};return d.useEffect(()=>{(async()=>{try{H(!0);const v=await(await fetch(`/server/message/getuserprovider/${e._id}`)).json();if(v.success===!1)return;const S=(await Promise.all(v.users.map(async M=>{const B=`${M._id}_${v.providerId}`,[V,G]=await Promise.all([fetch(`/server/message/getlastmessage/${B}`),fetch(`/server/message/getunreadmessagescount/${B}?reciever=${e._id}`)]),oe=await V.json(),ce=await G.json();return{...M,lastMessage:oe,unreadCount:ce.unreadCount}}))).sort((M,B)=>{const V=new Date(M.lastMessage.createdAt);return new Date(B.lastMessage.createdAt)-V});o(S),H(!1)}catch(O){console.log(O)}})()},[e._id]),t.jsxs("div",{className:"flex flex-col",children:[t.jsx(dt,{color:"#722a88",ref:b,height:3,speed:1e3}),g?t.jsx(t.Fragment,{children:t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"},children:t.jsx(rr,{color:"#AFDBD8",loading:g,size:20})})}):t.jsx(t.Fragment,{children:s.length>0?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-grow h-screen max-h-[390px] 2xl:max-h-[700px]",children:[t.jsx("div",{className:"w-1/4 chatbg flex flex-col items-center pt-2 pr-2 gap-2",children:s.length>0?t.jsx(t.Fragment,{children:k?t.jsx(t.Fragment,{children:s.map(p=>t.jsxs(Qr,{height:80,width:290,speed:2,viewBox:"0 0 250 60",backgroundColor:"#f5f5f5",foregroundColor:"#D1BEE0",className:"2xl:w-[900px] 2xl:h-[110px]",children:[t.jsx("circle",{cx:"127",cy:"35",r:"25",className:"md:hidden block"}),t.jsx("circle",{cx:"30",cy:"35",r:"25",className:"hidden md:block"}),t.jsx("rect",{x:"70",y:"20",width:"140",height:"8",rx:"4",className:"hidden md:block"}),t.jsx("rect",{x:"70",y:"40",width:"80",height:"8",rx:"4",className:"hidden md:block"})]},p._id))}):t.jsx(t.Fragment,{children:s.map(p=>{var v,T,S,M,B,V;const O=c&&c._id===p._id;return t.jsxs("div",{className:`w-full p-4 flex chatbox-color gap-5 border-b-2 items-center cursor-pointer ${O?"chat-selected":"messagebg"}`,onClick:()=>{_(_n(p._id)),F(p)},children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:p.profilePicture,alt:"provider logo",className:"w-9 h-9 2xl:size-20 md:w-12 md:h-12 rounded-full object-cover"}),a[p._id]?t.jsx(gt,{className:"absolute text-green-400 top-0 right-0 transition-all ease-in duration-150"}):t.jsx(gt,{className:"absolute text-red-400 top-0 right-0  transition-all ease-in duration-150"})]}),t.jsxs("div",{className:"flex-grow hidden md:block",children:[t.jsx("p",{className:"font-semibold items-center justify-center",children:p.username}),t.jsx("div",{className:"flex flex-row gap-1",children:t.jsxs("p",{className:`text-xs md:text-xs line-clamp-1 ${!((v=p.lastMessage)!=null&&v.read)&&((T=p.lastMessage)==null?void 0:T.sender)!==e._id?"text-gray-700 font-bold":""}`,children:[(S=p.lastMessage)==null?void 0:S.message.slice(0,20),((M=p.lastMessage)==null?void 0:M.message.length)>20?".....":""]})})]}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{style:{fontSize:"9px"},className:"hidden md:block",children:t.jsx("span",{className:"ml-2",style:{fontSize:"12px"},children:(()=>{var he;const G=new Date((he=p.lastMessage)==null?void 0:he.createdAt),oe=new Date,ce=oe-G,z=24*60*60*1e3,J=7*z,se=xe=>{const ue=new Date(oe);return ue.setDate(oe.getDate()-1),xe.getDate()===ue.getDate()&&xe.getMonth()===ue.getMonth()&&xe.getFullYear()===ue.getFullYear()};return ce<z?G.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):se(G)?"Yesterday":ce<J?G.toLocaleDateString([],{weekday:"long"}):G.toLocaleDateString([],{day:"2-digit",month:"2-digit",year:"numeric"})})()})}),t.jsx("div",{children:!((B=p.lastMessage)!=null&&B.read)&&((V=p.lastMessage)==null?void 0:V.sender)!==e._id&&t.jsx("div",{className:"bg-purple-400 rounded-full w-4 h-4 flex justify-center items-center",children:t.jsx("p",{className:"font-bold",style:{fontSize:"10px"},children:p.unreadCount})})})]})]},p._id)})})}):t.jsx(t.Fragment,{children:"no messages found"})}),t.jsx("div",{className:"w-3/4 p-4 flex flex-col rightchatbox-color overflow-hidden",children:c?t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:`transition-all ease-in-out duration-200 ${Q?"md:w-3/4":"w-full"}`,children:[t.jsxs("div",{className:`flex flex-row items-center mb-4 justify-between border-b-2 border-purple-500 ${Q?"":"cursor-pointer"}`,onClick:L,children:[t.jsxs("div",{className:"flex item-center mb-4",children:[t.jsx("img",{src:c.profilePicture,alt:"provider logo",className:"size-10 rounded-full object-cover"}),t.jsx("div",{className:"flex flex-row items-center text-start",children:t.jsxs("div",{className:"items-center",children:[t.jsx("h2",{className:"flex flex-row ml-2 capitalize font-semibold",children:c.username}),a[c._id]?t.jsx("div",{className:"text-xs text-start ml-2 transition-all ease-in duration-150",children:"Online"}):t.jsx("div",{className:"text-xs text-start ml-2 transition-all ease-in duration-150",children:"Offline"})]})})]}),t.jsx("div",{className:"flex items-center",children:t.jsx(en,{className:"size-6 text-gray",onClick:L})})]}),t.jsxs("div",{className:"flex flex-col flex-grow h-screen",children:[t.jsx("div",{ref:D,className:"overflow-y-scroll h-[245px] md:h-[240px] 2xl:h-[550px]",children:j.map(p=>t.jsxs("div",{className:"m-2",children:[t.jsxs("div",{className:`flex items-center ${String(p.sender)===String(e._id)?"justify-end":""}`,children:[p.sender!==e._id&&t.jsx("img",{src:c.profilePicture,alt:"user logo",className:"size-8 rounded-full mr-2 object-cover"}),t.jsx("div",{className:`p-2 text-xs md:text-base ${p.sender===e._id?"chat-sender rounded-l-xl rounded-tr-xl":"bg-gray-300 rounded-r-xl rounded-tl-xl"}  ${p.message.length>30?"w-2/3":"w-auto"}`,children:t.jsxs("div",{className:"flex items-center ml-2",children:[p.message,t.jsx("span",{className:"ml-2 mt-1",style:{fontSize:"10px"},children:new Date(p.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})}),p.sender===e._id&&t.jsx("img",{src:e.profilePicture,alt:"user logo",className:"size-9 rounded-full ml-2 object-cover"})]}),t.jsx("div",{className:`md:text-sm ${p.sender===e._id?"mr-10 text-right":"ml-10 text-left"}`,style:{fontSize:"12px"},children:t.jsx(Qe,{locale:"en-US",date:new Date(p.createdAt)})})]},p._id))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",required:!0,placeholder:"Type a message...",className:"w-full p-3 rounded-lg",value:W,onKeyDown:re,onChange:p=>Y(p.target.value)}),t.jsx(Ce.Button,{onClick:X,variant:"outlined",className:"btn-color border-gray-400",children:t.jsx(tn,{className:"size-5"})})]})]})]}),Q&&t.jsxs("div",{className:"w-1/3 p-2 pr-2 md:block hidden border-l-2 mt-2",children:[t.jsxs("div",{className:"flex flex-row items-center space-x-2 mb-3",children:[t.jsx(on,{className:"size-6 text-gray cursor-pointer",onClick:()=>U(!1)}),t.jsx("p",{className:"text-base font-semibold",children:"Contact info"})]}),t.jsx(Kr,{children:t.jsxs("div",{className:"flex flex-col items-center",children:[t.jsx("img",{src:c.profilePicture,alt:"user logo",className:"size-10 rounded-full object-cover"}),t.jsx("h2",{className:"capitalize font-semibold mt-2",children:c.username}),t.jsx("p",{className:"text-xs mt-2",children:c.email})]})})]})]}):t.jsxs("div",{className:"flex flex-col mx-auto items-center justify-center h-full",children:[t.jsx("img",{src:e.profilePicture,alt:"user logo",className:"size-20 object-cover rounded-full border-4 border-purple-300"}),t.jsxs("h1",{className:"text-2xl font-bold text-gray",children:["Hi,",t.jsx("span",{className:"animate-wave",children:"👋🏻"}),"Welcome!"]}),t.jsx("h2",{className:"text-gray",children:"Select a people for chat."})]})})]})}):t.jsx(t.Fragment,{children:t.jsx("div",{className:"flex flex-col w-full max-h-screen p-2 mx-auto",children:t.jsx("div",{className:"h-52vh md:h-72vh bg-provmsgbg bg-cover bg-center flex flex-col justify-center items-center text-white",children:t.jsxs("div",{children:[t.jsx("h1",{className:"flex flex-col items-center text-4xl font-bold  text-gray-700",children:"No messages yet"}),t.jsx("h1",{className:"flex flex-col items-center text-2xl font-semibold mt-6 text-zinc-600",children:"You don't have any messages from client yet."})]})})})})})]})}function Ba(){const[e,r]=d.useState("Providers"),{currentProvider:n}=le(o=>o.provider),a=yt(),s=d.useMemo(()=>{const o=[{title:"Providers"}];return n&&o.push({title:"Message"},{title:"Appointment"}),o},[n]);return d.useEffect(()=>{const i=new URLSearchParams(a.search).get("tag");i&&s.find(c=>c.title===i)&&r(i)},[a.search,s]),t.jsxs("div",{className:"flex flex-col w-full transition-all duration-500",children:[t.jsx("nav",{className:"block border-b items-start",children:t.jsx("ul",{className:" flex items-center gap-x-3 max-w-screen-2xl mx-auto px-4",children:s.map((o,i)=>t.jsx("li",{className:"py-1",children:t.jsx(De,{to:`?tag=${o.title}`,className:`block py-2 px-3 rounded-lg md:text-base text-sm text-gray-700 hover:text-amber-500 hover:bg-amber-100 duration-150 ${e===o.title?"border-b-2 border-amber-500":""}`,children:t.jsx("span",{className:"",children:o.title})})},i))})}),e==="Providers"&&t.jsx("div",{className:"w-full transition-all duration-500",children:t.jsx(Hn,{})}),n&&t.jsxs(t.Fragment,{children:[e==="Message"&&t.jsxs("div",{className:"w-full transition-all duration-500 h-screen",children:[t.jsx("h1",{className:"flex flex-col font-bold text-2xl text-zinc-800"}),t.jsx(Ra,{})]}),e==="Appointment"&&t.jsxs("div",{className:"w-full transition-all duration-500",children:[t.jsx("h1",{className:"flex flex-col p-2 font-bold text-2xl text-zinc-800"}),t.jsx(Jn,{})]})]})]})}function qa(){const{currentUser:e}=le(x=>x.user),{onlineAllUsers:r}=le(x=>x.online),{id:n}=le(x=>x.provider),[a,s]=d.useState([]),[o,i]=d.useState(null),[l,c]=d.useState([]),[u,f]=d.useState([]),[h,y]=d.useState([]),[C,j]=d.useState(!0),[N,D]=d.useState(!0),b=d.useRef(null),g=d.useRef(null),[E,k]=d.useState(!1),H=je(),Q="http://localhost:3000",[U,_]=d.useState(null),[I,A]=d.useState("");d.useEffect(()=>{const x=Xr(Q,{withCredentials:!0});return _(x),x.emit("Online",e._id),x.on("UserOnline",({userId:L})=>{H(Wr(L))}),x.on("UserOut",({userId:L})=>{H(Vr(L))}),()=>x.close()},[e._id,H]),d.useEffect(()=>{if(!U)return;const x=({sender:L,message:F,provider:p})=>{if(p!==n){ge.success("New message received");return}const O={sender:L,message:F,provider:p,createdAt:new Date};f(v=>[...v,O]),y(v=>[...v,O]),s(v=>v.map(S=>S._id===n?{...S,lastMessage:O}:S))};return U.on("receiveMessage",x),()=>U.off("receiveMessage",x)},[U,n]);const $=()=>{if(I==="")return ge.error("Message cannot be empty");U&&(U.emit("joinRoom",{roomId:`${e._id}_${o._id}`,sender:e._id,provider:o._id,reciever:o.userRef}),U.emit("sendMessage",{roomId:`${e._id}_${o._id}`,message:I,sender:e._id,provider:o._id,userid:e._id,reciever:o.userRef}),A(""))};d.useEffect(()=>{if(o&&U){const x=`${e._id}_${o._id}`;return U.emit("joinRoom",{roomId:x,sender:e._id,provider:o._id,reciever:o.userRef}),U.on("messageRead",L=>{y(F=>F.map(p=>p._id===L?{...p,read:!0}:p))}),()=>{U.off("messageRead")}}},[o,U,e._id]),d.useEffect(()=>{(async()=>{j(!0),g.current.continuousStart();try{const F=await(await fetch(`/server/message/getprovider/${e._id}`)).json();if(F.success===!1){j(!1),D(!1);return}s(F),g.current.complete(50),j(!1)}catch(L){j(!1),console.log(L)}})()},[e._id]);const W=x=>{x.key==="Enter"&&!x.shiftKey&&(x.preventDefault(),$())};d.useEffect(()=>{const x=()=>{b.current&&b.current.scrollTop<=10&&Y()};if(b.current){const L=b.current;return L.addEventListener("scroll",x),()=>{L&&L.removeEventListener("scroll",x)}}},[h]);const Y=()=>{const L=h.length,F=l.slice(Math.max(0,l.length-L-10),l.length-L);y(p=>[...F,...p])},X=()=>{if(b.current){const{scrollHeight:x,clientHeight:L}=b.current,F=x-L;b.current.scrollTop=F>0?F:0}};d.useEffect(()=>{X()},[u,l]);const re=()=>{k(!0)},ne=async x=>{i(x),k(!1);const L=`${e._id}_${x._id}`;try{const p=await(await fetch(`/server/message/getmessage/${L}`)).json();if(p.success===!1)return;c(p),y(p.slice(-10));const O=p.filter(v=>!v.read&&v.sender!==e._id);console.log("unreadMessages",O),await Promise.all(O.map(async v=>fetch(`/server/message/markasread/${v._id}`,{method:"PUT",headers:{"Content-Type":"application/json"}}))),y(v=>v.map(T=>T.sender!==e._id?{...T,read:!0}:T)),s(v=>v.map(S=>{var M;return S._id===x._id&&((M=S.lastMessage)==null?void 0:M.sender)!==e._id?{...S,lastMessage:{...S.lastMessage,read:!0}}:S}))}catch(F){console.log(F)}};return d.useEffect(()=>{(async()=>{try{j(!0),D(!0);const F=await(await fetch(`/server/message/getprovider/${e._id}`)).json();if(F.success===!1){j(!1),D(!1);return}const O=(await Promise.all(F.map(async v=>{const T=`${e._id}_${v._id}`,[S,M]=await Promise.all([fetch(`/server/message/getlastmessage/${T}`),fetch(`/server/message/getunreadmessagescount/${T}?reciever=${e._id}`)]),B=await S.json(),V=await M.json();return console.log("unreadData",V),{...v,lastMessage:B||"No message yet",unreadCount:V.unreadCount}}))).sort((v,T)=>{const S=new Date(v.lastMessage.createdAt);return new Date(T.lastMessage.createdAt)-S});s(O),D(!1),j(!1)}catch(L){j(!1),console.log(L)}})()},[e._id]),t.jsxs("div",{className:"full-height flex flex-col",children:[t.jsx(dt,{color:"#722a88",ref:g,height:3,speed:1e3}),C?t.jsx(t.Fragment,{children:t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"70vh"},children:t.jsx(rr,{color:"#AFDBD8",loading:C,size:20})})}):t.jsxs(t.Fragment,{children:[t.jsx(dt,{color:"#ff9900",ref:g,height:3,speed:1e3}),a.length>0?t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-grow h-screen max-h-[435px] 2xl:max-h-[745px]",children:[t.jsx("div",{className:"w-1/4 flex flex-col items-center pt-2 pr-2 gap-2",children:a.length>0?t.jsx(t.Fragment,{children:N&&!C?t.jsx(t.Fragment,{children:a.map(x=>t.jsxs(Qr,{height:80,width:290,speed:2,viewBox:"0 0 250 60",backgroundColor:"#f5f5f5",foregroundColor:"#D1BEE0",className:"2xl:w-[900px] 2xl:h-[110px]",children:[t.jsx("circle",{cx:"127",cy:"35",r:"25",className:"md:hidden block"}),t.jsx("circle",{cx:"30",cy:"35",r:"25",className:"hidden md:block"}),t.jsx("rect",{x:"70",y:"20",width:"140",height:"8",rx:"4",className:"hidden md:block"}),t.jsx("rect",{x:"70",y:"40",width:"80",height:"8",rx:"4",className:"hidden md:block"})]},x._id))}):t.jsx(t.Fragment,{children:a.map(x=>{var F,p,O,v,T,S;const L=o&&o._id===x._id;return t.jsxs("div",{className:`w-full p-4 flex chatbox-color gap-5 border-b-2 items-center cursor-pointer ${L?"chat-selected":"messagebg"}`,onClick:()=>{H(An(x._id)),ne(x)},children:[t.jsxs("div",{className:"relative",children:[t.jsx("img",{src:x.profilePicture,alt:"provider logo",className:"w-10 h-10 2xl:size-20 md:w-12 md:h-12 rounded-full object-cover"}),r[x._id]?t.jsx(gt,{className:"absolute top-0 right-0 text-green-400 transition-all ease-in duration-150"}):t.jsx(gt,{className:"absolute top-0 right-0 text-red-400 transition-all ease-in duration-150"})]}),t.jsxs("div",{className:"flex-grow hidden md:block",children:[t.jsx("p",{className:"font-semibold items-center justify-center",children:x.fullName.slice(0,15)}),t.jsx("div",{className:"flex flex-row gap-1",children:t.jsxs("p",{className:`text-sm line-clamp-1 ${!((F=x.lastMessage)!=null&&F.read)&&((p=x.lastMessage)==null?void 0:p.sender)!==e._id?"text-gray-700 font-bold":""}`,children:[(O=x.lastMessage)==null?void 0:O.message.slice(0,20),((v=x.lastMessage)==null?void 0:v.message.length)>20?"....":""]})})]}),t.jsxs("div",{className:"flex flex-col items-center gap-1",children:[t.jsx("div",{style:{fontSize:"11px"},className:"hidden md:block",children:t.jsx("span",{className:"ml-2",style:{fontSize:"12px"},children:(()=>{var z;const M=new Date(((z=x.lastMessage)==null?void 0:z.createdAt)||0),B=new Date,V=B-M,G=24*60*60*1e3,oe=7*G,ce=J=>{const se=new Date(B);return se.setDate(se.getDate()-1),J.getDate()===se.getDate()&&J.getMonth()===se.getMonth()&&J.getFullYear()===se.getFullYear()};return V<G?M.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):ce(M)?"Yesterday":V<oe?M.toLocaleDateString([],{weekday:"long"}):M.toLocaleDateString([],{day:"2-digit",month:"2-digit",year:"numeric"})})()})}),t.jsx("div",{children:!((T=x.lastMessage)!=null&&T.read)&&((S=x.lastMessage)==null?void 0:S.sender)!==e._id&&t.jsx("div",{className:"bg-purple-400 rounded-full w-4 h-4 flex justify-center items-center",children:t.jsx("p",{className:"font-bold",style:{fontSize:"10px"},children:x.unreadCount})})})]})]},x._id)})})}):t.jsx(t.Fragment,{children:"no messages found"})}),t.jsx("div",{className:"w-3/4 p-4 flex flex-col rightchatbox-color overflow-hidden",children:o?t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:`transition-all ease-in-out duration-200 ${E?"md:w-3/4":"w-full"}`,children:[t.jsxs("div",{className:`flex flex-row items-center mb-4 justify-between border-b-2 border-purple-500 ${E?"":"cursor-pointer"}`,onClick:re,children:[t.jsxs("div",{className:"flex items-center mb-2",children:[t.jsx("img",{src:o.profilePicture,alt:"provider logo",className:"w-10 h-10 md:h-10 md rounded-full object-cover"}),t.jsx("div",{className:"flex flex-row items-center text-start",children:t.jsxs("div",{className:"items-center",children:[t.jsx("h2",{className:"flex flex-row ml-2 capitalize font-semibold",children:o.fullName}),r[o._id]?t.jsx("div",{className:"text-xs text-start ml-2 fadeIn",children:"Online"}):t.jsx("div",{className:"text-xs text-start  ml-2",children:"Offline"})]})})]}),t.jsx("div",{className:"flex items-center",children:t.jsx(en,{className:"size-6"})})]}),t.jsxs("div",{className:"flex flex-col flex-grow h-screen",children:[t.jsx("div",{ref:b,className:" overflow-y-scroll h-[320px] md:h-[290px] 2xl:h-[600px]",children:h.map(x=>t.jsxs("div",{className:"m-2",children:[t.jsxs("div",{className:`flex items-center ${String(x.sender)===String(e._id)?"justify-end":""}`,children:[x.sender!==e._id&&t.jsx("img",{src:o.profilePicture,alt:"provider logo",className:"size-9 rounded-full mr-2 object-cover"}),t.jsxs("div",{className:`p-2 text-xs md:text-base ${x.sender===e._id?"chat-sender rounded-l-xl rounded-tr-xl":"bg-gray-300 rounded-r-xl rounded-tl-xl"} ${x.message.length>30?"w-2/3":"w-max"}`,children:[x.message,t.jsx("span",{className:"ml-2",style:{fontSize:"10px"},children:new Date(x.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]}),x.sender===e._id&&t.jsx("img",{src:e.profilePicture,alt:"user logo",className:"size-9 rounded-full ml-2 object-cover"})]}),t.jsx("div",{className:`${x.sender===e._id?"mr-10 text-right":"ml-10 text-left"}`,style:{fontSize:"12px"},children:t.jsx(Qe,{locale:"en-US",date:new Date(x.createdAt)})})]},x._id))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",placeholder:"Type a message...",className:"w-full p-3 rounded-lg",value:I,onKeyDown:W,onChange:x=>A(x.target.value)}),t.jsx(Ce.Button,{onClick:$,variant:"outlined",className:"btn-color border-gray-400",children:t.jsx(tn,{className:"size-5"})})]})]})]}),E&&t.jsxs("div",{className:"w-1/3 p-2 pr-2 md:block hidden border-l-2 mt-2",children:[t.jsxs("div",{className:"flex flex-row items-center space-x-2 mb-3",children:[t.jsx(on,{className:"size-6 text-gray cursor-pointer",onClick:()=>k(!1)}),t.jsx("p",{className:"text-base font-semibold",children:"Contact info"})]}),t.jsx(Kr,{children:t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx("img",{src:o.profilePicture,alt:"user logo",className:"size-16 rounded-full object-cover"}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-row justify-center items-center gap-1",children:[t.jsx("h2",{className:"capitalize font-semibold mt-2 provideritem-name",children:o.fullName}),o.verified===!0&&t.jsx(t.Fragment,{children:t.jsx(Ln,{content:"Verifed Profile",animation:"duration-500",children:t.jsx(Rn,{className:"animate-bounce size-4 mt-2"})})})]}),t.jsx("p",{className:"text-xs text-center provideritem-service",children:Array.isArray(o.name)?t.jsxs(t.Fragment,{children:[t.jsx("p",{children:o.name.slice(0,2).join(", ")}),o.name.length>2?t.jsx("p",{children:o.name.slice(2).join(", ")}):null,o.name.length>3?t.jsx(t.Fragment,{children:t.jsx("p",{children:`+${o.name.length-2}more`})}):null]}):t.jsx(t.Fragment,{children:o.name})})]}),t.jsxs("div",{className:"flex items-center gap-1 mt-2",children:[t.jsx(Fn,{className:"h-4 w-4 icon-color"}),t.jsxs("p",{className:"text-sm provideritem-service",children:[t.jsx("span",{className:"text-xs provideritem-service",children:o.experience})," years experience"]})]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(In,{className:"h-4 w-4 icon-color"}),t.jsxs("p",{className:"text-sm provideritem-service truncate w-full",children:[o.address.state,",",o.address.city]})]})]})})]})]}):t.jsxs("div",{className:"flex flex-col mx-auto items-center justify-center h-full",children:[t.jsx("img",{src:e.profilePicture,alt:"user logo",className:"size-20 object-cover rounded-full border-4 border-purple-300"}),t.jsxs("h1",{className:"text-2xl font-bold text-gray",children:["Hi,",t.jsx("span",{className:"animate-wave",children:"👋🏻"}),"Welcome!"]}),t.jsx("h2",{className:"text-gray",children:"Select a provider for chat."})]})})]})}):t.jsx(t.Fragment,{children:t.jsxs("div",{className:"flex flex-col w-full max-h-screen p- mx-auto",children:[t.jsx("div",{className:"h-52vh md:h-72vh bg-nomsgbg bg-cover bg-center flex flex-col justify-center items-center text-white",children:t.jsxs("div",{children:[t.jsx("h1",{className:"flex flex-col items-center text-4xl font-bold  text-gray-700",children:"No Messages yet"}),t.jsx("h1",{className:"flex flex-col items-center text-2xl font-semibold mt-6 text-zinc-600",children:"To begin, search for a provider and send them a message."})]})}),t.jsx("div",{className:"flex items-center justify-center mt-6",children:t.jsx($r,{})})]})})]})]})}var ie=function(e,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,o;a<s;a++)(o||!(a in r))&&(o||(o=Array.prototype.slice.call(r,0,a)),o[a]=r[a]);return e.concat(o||Array.prototype.slice.call(r))},Ua=["onCopy","onCut","onPaste"],za=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],Wa=["onFocus","onBlur"],Va=["onInput","onInvalid","onReset","onSubmit"],Ka=["onLoad","onError"],Ga=["onKeyDown","onKeyPress","onKeyUp"],Za=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],Ya=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],Ja=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],Qa=["onSelect"],Xa=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],es=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],ts=["onScroll"],rs=["onWheel"],ns=["onAnimationStart","onAnimationEnd","onAnimationIteration"],as=["onTransitionEnd"],ss=["onToggle"],os=["onChange"],is=ie(ie(ie(ie(ie(ie(ie(ie(ie(ie(ie(ie(ie(ie(ie(ie(ie(ie([],Ua,!0),za,!0),Wa,!0),Va,!0),Ka,!0),Ga,!0),Za,!0),Ya,!0),Ja,!0),Qa,!0),Xa,!0),es,!0),ts,!0),rs,!0),ns,!0),as,!0),os,!0),ss,!0);function ls(e,r){var n={};return is.forEach(function(a){var s=e[a];s&&(n[a]=s)}),n}function ln(e){var r,n,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(r=0;r<s;r++)e[r]&&(n=ln(e[r]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}function Xe(){for(var e,r,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(r=ln(e))&&(a&&(a+=" "),a+=r);return a}function fe(e){if(e instanceof Date)return e.getHours();if(typeof e=="string"){var r=e.split(":");if(r.length>=2){var n=r[0];if(n){var a=parseInt(n,10);if(!isNaN(a))return a}}}throw new Error("Failed to get hours from date: ".concat(e,"."))}function ye(e){if(e instanceof Date)return e.getMinutes();if(typeof e=="string"){var r=e.split(":");if(r.length>=2){var n=r[1]||"0",a=parseInt(n,10);if(!isNaN(a))return a}}throw new Error("Failed to get minutes from date: ".concat(e,"."))}function Ae(e){if(e instanceof Date)return e.getSeconds();if(typeof e=="string"){var r=e.split(":");if(r.length>=2){var n=r[2]||"0",a=parseInt(n,10);if(!isNaN(a))return a}}throw new Error("Failed to get seconds from date: ".concat(e,"."))}function Lt(e){if(e instanceof Date)return e.getMilliseconds();if(typeof e=="string"){var r=e.split(":");if(r.length>=2){var n=r[2]||"0",a=n.split(".")[1]||"0",s=parseInt(a,10);if(!isNaN(s))return s}}throw new Error("Failed to get seconds from date: ".concat(e,"."))}function Ye(e,r){r===void 0&&(r=2);var n="".concat(e);return n.length>=r?e:"0000".concat(n).slice(-r)}function cn(e){var r=Ye(fe(e)),n=Ye(ye(e));return"".concat(r,":").concat(n)}function un(e){var r=Ye(fe(e)),n=Ye(ye(e)),a=Ye(Ae(e));return"".concat(r,":").concat(n,":").concat(a)}function Mt(e){var r=e.angle,n=r===void 0?0:r,a=e.name,s=e.length,o=s===void 0?100:s,i=e.oppositeLength,l=i===void 0?10:i,c=e.width,u=c===void 0?1:c;return P.createElement("div",{className:"react-clock__hand react-clock__".concat(a,"-hand"),style:{transform:"rotate(".concat(n,"deg)")}},P.createElement("div",{className:"react-clock__hand__body react-clock__".concat(a,"-hand__body"),style:{width:"".concat(u,"px"),top:"".concat(50-o/2,"%"),bottom:"".concat(50-l/2,"%")}}))}function dn(e){var r=e.angle,n=r===void 0?0:r,a=e.length,s=a===void 0?10:a,o=e.name,i=e.width,l=i===void 0?1:i,c=e.number;return P.createElement("div",{className:"react-clock__mark react-clock__".concat(o,"-mark"),style:{transform:"rotate(".concat(n,"deg)")}},P.createElement("div",{className:"react-clock__mark__body react-clock__".concat(o,"-mark__body"),style:{width:"".concat(l,"px"),top:0,bottom:"".concat(100-s/2,"%")}}),c?P.createElement("div",{className:"react-clock__mark__number",style:{transform:"rotate(-".concat(n,"deg)"),top:"".concat(s/2,"%")}},c):null)}var Vt=function(){return Vt=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Vt.apply(this,arguments)},cs=d.memo(function(r){return P.createElement(dn,Vt({},r))});const us=(e,r,n,a)=>{if(n==="length"||n==="prototype"||n==="arguments"||n==="caller")return;const s=Object.getOwnPropertyDescriptor(e,n),o=Object.getOwnPropertyDescriptor(r,n);!ds(s,o)&&a||Object.defineProperty(e,n,o)},ds=function(e,r){return e===void 0||e.configurable||e.writable===r.writable&&e.enumerable===r.enumerable&&e.configurable===r.configurable&&(e.writable||e.value===r.value)},ms=(e,r)=>{const n=Object.getPrototypeOf(r);n!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,n)},fs=(e,r)=>`/* Wrapped ${e}*/
${r}`,ps=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),hs=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name"),xs=(e,r,n)=>{const a=n===""?"":`with ${n.trim()}() `,s=fs.bind(null,a,r.toString());Object.defineProperty(s,"name",hs),Object.defineProperty(e,"toString",{...ps,value:s})},gs=(e,r,{ignoreNonConfigurable:n=!1}={})=>{const{name:a}=e;for(const s of Reflect.ownKeys(r))us(e,r,s,n);return ms(e,r),xs(e,r,a),e};var vs=gs,Kt={exports:{}},bs=()=>{const e={};return e.promise=new Promise((r,n)=>{e.resolve=r,e.reject=n}),e};(function(e,r){var n=Fe&&Fe.__awaiter||function(i,l,c,u){return new(c||(c=Promise))(function(f,h){function y(N){try{j(u.next(N))}catch(D){h(D)}}function C(N){try{j(u.throw(N))}catch(D){h(D)}}function j(N){N.done?f(N.value):new c(function(D){D(N.value)}).then(y,C)}j((u=u.apply(i,l||[])).next())})},a=Fe&&Fe.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(r,"__esModule",{value:!0});const s=a(bs);function o(i,l="maxAge"){let c,u,f;const h=()=>n(this,void 0,void 0,function*(){if(c!==void 0)return;const j=N=>n(this,void 0,void 0,function*(){f=s.default();const D=N[1][l]-Date.now();if(D<=0){i.delete(N[0]),f.resolve();return}return c=N[0],u=setTimeout(()=>{i.delete(N[0]),f&&f.resolve()},D),typeof u.unref=="function"&&u.unref(),f.promise});try{for(const N of i)yield j(N)}catch{}c=void 0}),y=()=>{c=void 0,u!==void 0&&(clearTimeout(u),u=void 0),f!==void 0&&(f.reject(void 0),f=void 0)},C=i.set.bind(i);return i.set=(j,N)=>{i.has(j)&&i.delete(j);const D=C(j,N);return c&&c===j&&y(),h(),D},h(),i}r.default=o,e.exports=o,e.exports.default=o})(Kt,Kt.exports);var ys=Kt.exports;const js=vs,Ns=ys,Ft=new WeakMap,mn=new WeakMap,vt=(e,{cacheKey:r,cache:n=new Map,maxAge:a}={})=>{typeof a=="number"&&Ns(n);const s=function(...o){const i=r?r(o):o[0],l=n.get(i);if(l)return l.data;const c=e.apply(this,o);return n.set(i,{data:c,maxAge:a?Date.now()+a:Number.POSITIVE_INFINITY}),c};return js(s,e,{ignoreNonConfigurable:!0}),mn.set(s,n),s};vt.decorator=(e={})=>(r,n,a)=>{const s=r[n];if(typeof s!="function")throw new TypeError("The decorated value must be a function");delete a.value,delete a.writable,a.get=function(){if(!Ft.has(this)){const o=vt(s,e);return Ft.set(this,o),o}return Ft.get(this)}};vt.clear=e=>{const r=mn.get(e);if(!r)throw new TypeError("Can't clear a function that was not memoized!");if(typeof r.clear!="function")throw new TypeError("The cache Map can't be cleared!");r.clear()};var ws=vt;const fn=zr(ws);function Cs(e){return typeof e=="string"}function Ss(e,r,n){return n.indexOf(e)===r}function ks(e){return e.toLowerCase()===e}function wr(e){return e.indexOf(",")===-1?e:e.split(",")}function Gt(e){if(!e)return e;if(e==="C"||e==="posix"||e==="POSIX")return"en-US";if(e.indexOf(".")!==-1){var r=e.split(".")[0],n=r===void 0?"":r;return Gt(n)}if(e.indexOf("@")!==-1){var a=e.split("@")[0],n=a===void 0?"":a;return Gt(n)}if(e.indexOf("-")===-1||!ks(e))return e;var s=e.split("-"),o=s[0],i=s[1],l=i===void 0?"":i;return"".concat(o,"-").concat(l.toUpperCase())}function Ps(e){var r=e===void 0?{}:e,n=r.useFallbackLocale,a=n===void 0?!0:n,s=r.fallbackLocale,o=s===void 0?"en-US":s,i=[];if(typeof navigator<"u"){for(var l=navigator.languages||[],c=[],u=0,f=l;u<f.length;u++){var h=f[u];c=c.concat(wr(h))}var y=navigator.language,C=y&&wr(y);i=i.concat(c,C)}return a&&i.push(o),i.filter(Cs).map(Gt).filter(Ss)}var Os=fn(Ps,{cacheKey:JSON.stringify});function Es(e){return Os(e)[0]||null}var nr=fn(Es,{cacheKey:JSON.stringify});function Ts(e,r){return r.toLocaleString(e||nr()||void 0)}var Zt=function(){return Zt=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Zt.apply(this,arguments)},Ds=function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n},_s=d.memo(function(r){var n=r.formatHour,a=n===void 0?Ts:n,s=r.locale,o=r.number,i=Ds(r,["formatHour","locale","number"]);return P.createElement(dn,Zt({number:o?a(s,o):null},i))});function pn(e,r){return function(n,a,s){var o=n,i=a,l=o[i];if(typeof l<"u"){if(typeof l!="number")return new Error("Invalid prop `".concat(a,"` of type `").concat(typeof l,"` supplied to `").concat(s,"`, expected `number`."));if(l<e||l>r)return new Error("Invalid prop `".concat(a,"` of type `").concat(typeof l,"` supplied to `").concat(s,"`, length must be between ").concat(e," and ").concat(r,"."))}return null}}var ct=pn(0,100),It=pn(-100,100),ut=function(r,n,a){var s=r,o=n,i=s[o];if(typeof i<"u"){if(typeof i!="number")return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(a,"`, expected `number`."));if(i<0)return new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(a,"`, width must be greater or equal to 0."))}return null},Cr=ct,Sr=ut,hn=function(r){var n=r.className,a=r.formatHour,s=r.hourHandLength,o=s===void 0?50:s,i=r.hourHandOppositeLength,l=r.hourHandWidth,c=l===void 0?4:l,u=r.hourMarksLength,f=u===void 0?10:u,h=r.hourMarksWidth,y=h===void 0?3:h,C=r.locale,j=r.minuteHandLength,N=j===void 0?70:j,D=r.minuteHandOppositeLength,b=r.minuteHandWidth,g=b===void 0?2:b,E=r.minuteMarksLength,k=E===void 0?6:E,H=r.minuteMarksWidth,Q=H===void 0?1:H,U=r.renderHourMarks,_=U===void 0?!0:U,I=r.renderMinuteHand,A=I===void 0?!0:I,$=r.renderMinuteMarks,W=$===void 0?!0:$,Y=r.renderNumbers,X=r.renderSecondHand,re=X===void 0?!0:X,ne=r.secondHandLength,x=ne===void 0?90:ne,L=r.secondHandOppositeLength,F=r.secondHandWidth,p=F===void 0?1:F,O=r.size,v=O===void 0?150:O,T=r.useMillisecondPrecision,S=r.value;function M(){if(!W)return null;for(var z=[],J=1;J<=60;J+=1){var se=_&&!(J%5);se||z.push(P.createElement(cs,{key:"minute_".concat(J),angle:J*6,length:k,name:"minute",width:Q}))}return z}function B(){if(!_)return null;for(var z=[],J=1;J<=12;J+=1)z.push(P.createElement(_s,{key:"hour_".concat(J),angle:J*30,formatHour:a,length:f,locale:C,name:"hour",number:Y?J:void 0,width:y}));return z}function V(){return P.createElement("div",{className:"react-clock__face"},M(),B())}function G(){var z=S?fe(S)*30+ye(S)/2+Ae(S)/120+(T?Lt(S)/12e4:0):0;return P.createElement(Mt,{angle:z,length:o,name:"hour",oppositeLength:i,width:c})}function oe(){if(!A)return null;var z=S?fe(S)*360+ye(S)*6+Ae(S)/10+(T?Lt(S)/1e4:0):0;return P.createElement(Mt,{angle:z,length:N,name:"minute",oppositeLength:D,width:g})}function ce(){if(!re)return null;var z=S?ye(S)*360+Ae(S)*6+(T?Lt(S)*.006:0):0;return P.createElement(Mt,{angle:z,length:x,name:"second",oppositeLength:L,width:p})}return P.createElement("time",{className:Xe("react-clock",n),dateTime:S instanceof Date?S.toISOString():S||void 0,style:{width:v,height:v}},V(),G(),oe(),ce())};hn.propTypes={className:m.oneOfType([m.string,m.arrayOf(m.string)]),formatHour:m.func,hourHandLength:ct,hourHandOppositeLength:It,hourHandWidth:ut,hourMarksLength:Cr,hourMarksWidth:Sr,locale:m.string,minuteHandLength:ct,minuteHandOppositeLength:It,minuteHandWidth:ut,minuteMarksLength:Cr,minuteMarksWidth:Sr,renderHourMarks:m.bool,renderMinuteHand:m.bool,renderMinuteMarks:m.bool,renderNumbers:m.bool,renderSecondHand:m.bool,secondHandLength:ct,secondHandOppositeLength:It,secondHandWidth:ut,size:m.oneOfType([m.number,m.string]),value:m.oneOfType([m.string,m.instanceOf(Date)])};function me(e){return e.getBoundingClientRect()}function kr(e,r){return{get collidedTop(){return me(e).top<me(r).top},get collidedBottom(){return me(e).bottom>me(r).bottom},get collidedLeft(){return me(e).left<me(r).left},get collidedRight(){return me(e).right>me(r).right},get overflowTop(){return me(r).top-me(e).top},get overflowBottom(){return me(e).bottom-me(r).bottom},get overflowLeft(){return me(r).left-me(e).left},get overflowRight(){return me(e).right-me(r).right}}}var As=function(){var e=function(r,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,s){a.__proto__=s}||function(a,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=s[o])},e(r,n)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(r,n);function a(){this.constructor=r}r.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)}}(),Se=function(){return Se=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Se.apply(this,arguments)},Ls=function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n},xn=typeof document<"u",Pr=xn&&"CSS"in window&&"supports"in window.CSS&&CSS.supports("display","contents"),Ms=xn&&"MutationObserver"in window;function it(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Or(e){for(var r=e.parentElement;r;){var n=window.getComputedStyle(r).overflow;if(n.split(" ").every(function(a){return a==="auto"||a==="scroll"}))return r;r=r.parentElement}return document.documentElement}function gn(e){var r=e.axis,n=e.container,a=e.element,s=e.invertAxis,o=e.scrollContainer,i=e.secondary,l=e.spacing,c=window.getComputedStyle(a),u=n.parentElement;if(!u)return;var f=kr(u,o),h=kr(u,document.documentElement),y=r==="x",C=y?"left":"top",j=y?"right":"bottom",N=y?"width":"height",D="overflow".concat(it(C)),b="overflow".concat(it(j)),g="scroll".concat(it(C)),E=it(N),k="offset".concat(E),H="client".concat(E),Q="min-".concat(N),U=o[k]-o[H],_=typeof l=="object"?l[C]:l,I=-Math.max(f[D],h[D]+document.documentElement[g])-_,A=typeof l=="object"?l[j]:l,$=-Math.max(f[b],h[b]-document.documentElement[g])-A-U;i&&(I+=u[H],$+=u[H]);var W=a[k];function Y(){a.style[C]="auto",a.style[j]=i?"0":"100%"}function X(){a.style[C]=i?"0":"100%",a.style[j]="auto"}function re(p,O){var v=W<=p;return v&&O(),v}function ne(){return re(I,Y)}function x(){return re($,X)}function L(){var p=I>$,O=c.getPropertyValue(Q),v=O?parseInt(O,10):null;function T(S){var M=Math.max(S,v||0);a.style[N]="".concat(M,"px")}p?(T(I),Y()):(T($),X())}var F;s?F=ne()||x():F=x()||ne(),F||L()}function Fs(e){gn(e)}function Is(e){gn(Se(Se({},e),{axis:e.axis==="x"?"y":"x",secondary:!0}))}function $s(e){var r=e.invertAxis,n=e.invertSecondaryAxis,a=Ls(e,["invertAxis","invertSecondaryAxis"]);Fs(Se(Se({},a),{invertAxis:r})),Is(Se(Se({},a),{invertAxis:n}))}var Hs=function(e){As(r,e);function r(){var n=e!==null&&e.apply(this,arguments)||this;return n.fit=function(){var a=n,s=a.scrollContainer,o=a.container,i=a.element;if(!(!s||!o||!i)){var l=i.clientWidth,c=i.clientHeight;if(!(n.elementWidth===l&&n.elementHeight===c)){n.elementWidth=l,n.elementHeight=c;var u=o.parentElement;if(u){var f=window.getComputedStyle(i),h=f.position;h!=="absolute"&&(i.style.position="absolute");var y=window.getComputedStyle(u),C=y.position;C!=="relative"&&C!=="absolute"&&(u.style.position="relative");var j=n.props,N=j.invertAxis,D=j.invertSecondaryAxis,b=j.mainAxis,g=b===void 0?"y":b,E=j.spacing,k=E===void 0?8:E;$s({axis:g,container:o,element:i,invertAxis:N,invertSecondaryAxis:D,scrollContainer:s,spacing:k})}}}},n}return r.prototype.componentDidMount=function(){var n=this;if(!Pr){var a=Gr.findDOMNode(this);if(!a||!(a instanceof HTMLElement))return;this.container=a,this.element=a,this.scrollContainer=Or(a)}this.fit();var s=function(){n.fit()};if(Ms&&this.element){var o=new MutationObserver(s);o.observe(this.element,{attributes:!0,attributeFilter:["class","style"]})}},r.prototype.render=function(){var n=this,a=this.props.children,s=P.Children.only(a);return Pr?P.createElement("span",{ref:function(o){n.container=o;var i=o&&o.firstElementChild;!i||!(i instanceof HTMLElement)||(n.element=i,n.scrollContainer=Or(i))},style:{display:"contents"}},s):s},r.propTypes={children:m.node.isRequired,invertAxis:m.bool,invertSecondaryAxis:m.bool,mainAxis:m.oneOf(["x","y"]),spacing:m.oneOfType([m.number,m.shape({bottom:m.number.isRequired,left:m.number.isRequired,right:m.number.isRequired,top:m.number.isRequired})])},r}(d.Component);function Rs(e){var r=e.children;return P.createElement("span",{className:"react-time-picker__inputGroup__divider"},r)}var Bs=["normal","small-caps"];function vn(e){if(!e)return"";var r=window.getComputedStyle(e);if(r.font)return r.font;var n=r.fontFamily!=="";if(!n)return"";var a=Bs.includes(r.fontVariant)?r.fontVariant:"normal";return"".concat(r.fontStyle," ").concat(a," ").concat(r.fontWeight," ").concat(r.fontSize," / ").concat(r.lineHeight," ").concat(r.fontFamily)}var Er;function qs(e,r){var n=Er||(Er=document.createElement("canvas")),a=n.getContext("2d");if(!a)return null;a.font=r;var s=a.measureText(e).width;return Math.ceil(s)}function bt(e){if(typeof document>"u"||!e)return null;var r=vn(e),n=e.value||e.placeholder,a=qs(n,r);return a===null?null:(e.style.width="".concat(a,"px"),a)}var ar=typeof document<"u",Us=ar?d.useLayoutEffect:d.useEffect,zs=ar&&/(MSIE|Trident\/|Edge\/)/.test(navigator.userAgent),Ws=ar&&/Firefox/.test(navigator.userAgent);function Vs(e){var r=e.target;zs?requestAnimationFrame(function(){return r.select()}):r.select()}function Ks(e){if(document.readyState==="complete")return;function r(){bt(e)}window.addEventListener("load",r)}function Gs(e){if(!document.fonts)return;var r=vn(e);if(!r)return;var n=document.fonts.check(r);if(n)return;function a(){bt(e)}document.fonts.addEventListener("loadingdone",a)}function Zs(e){if(e&&"selectionStart"in e&&e.selectionStart!==null&&"selectionEnd"in e&&e.selectionEnd!==null)return e.value.slice(e.selectionStart,e.selectionEnd);if("getSelection"in window){var r=window.getSelection();return r&&r.toString()}return null}function Ys(e){if(e!==null)return function(n){if(!Ws){var a=n.key,s=n.target,o=s.value,i=a.length===1&&/\d/.test(a),l=Zs(s);(!i||!(l||o.length<e))&&n.preventDefault()}}}function Nt(e){var r=e.ariaLabel,n=e.autoFocus,a=e.className,s=e.disabled,o=e.inputRef,i=e.max,l=e.min,c=e.name,u=e.nameForClass,f=e.onChange,h=e.onKeyDown,y=e.onKeyUp,C=e.placeholder,j=C===void 0?"--":C,N=e.required,D=e.showLeadingZeros,b=e.step,g=e.value;Us(function(){!o||!o.current||(bt(o.current),Ks(o.current),Gs(o.current))},[o,g]);var E=D&&g&&Number(g)<10&&(g==="0"||!g.toString().startsWith("0")),k=i?i.toString().length:null;return P.createElement(P.Fragment,null,E?P.createElement("span",{className:"".concat(a,"__leadingZero")},"0"):null,P.createElement("input",{"aria-label":r,autoComplete:"off",autoFocus:n,className:Xe("".concat(a,"__input"),"".concat(a,"__").concat(u||c),E&&"".concat(a,"__input--hasLeadingZero")),"data-input":"true",disabled:s,inputMode:"numeric",max:i,min:l,name:c,onChange:f,onFocus:Vs,onKeyDown:h,onKeyPress:Ys(k),onKeyUp:function(H){bt(H.target),y&&y(H)},placeholder:j,ref:o,required:N,step:b,type:"number",value:g!==null?g:""}))}function Tr(e,r){var n=Number(e);return r==="am"&&n===12?n=0:r==="pm"&&n<12&&(n+=12),n}function Re(e){var r=Number(e)%12||12;return[r,Number(e)<12?"am":"pm"]}var $t=new Map;function bn(e){return function(n,a){var s=n||nr();$t.has(s)||$t.set(s,new Map);var o=$t.get(s);return o.has(e)||o.set(e,new Intl.DateTimeFormat(s||void 0,e).format),o.get(e)(a)}}var Ht=new Map;function Js(e){return function(r,n){var a=r||nr();Ht.has(a)||Ht.set(a,new Map);var s=Ht.get(a);return s.has(e)||s.set(e,new Intl.NumberFormat(a||void 0,e).format),s.get(e)(n)}}var Qs=["9","٩"],Dr=new RegExp("[".concat(Qs.join(""),"]")),_r=bn({hour:"numeric"});function yn(e){var r=_r(e,new Date(2017,0,1,9)),n=_r(e,new Date(2017,0,1,21)),a=r.split(Dr),s=a[0],o=a[1],i=n.split(Dr),l=i[0],c=i[1];if(c!==void 0){if(s!==l)return[s,l].map(function(u){return u.trim()});if(o!==c)return[o,c].map(function(u){return u.trim()})}return["AM","PM"]}function jn(e){return e!==null&&e!==!1&&!Number.isNaN(Number(e))}function wt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Math.min.apply(Math,e.filter(jn))}function Ct(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return Math.max.apply(Math,e.filter(jn))}var Yt=function(){return Yt=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Yt.apply(this,arguments)},Xs=function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n};function eo(e){var r=e.amPm,n=e.maxTime,a=e.minTime,s=e.value,o=Xs(e,["amPm","maxTime","minTime","value"]),i=wt(12,n&&function(){var u=Re(fe(n)),f=u[0],h=u[1];return h!==r?null:f}()),l=Ct(1,a&&function(){var u=Re(fe(a)),f=u[0],h=u[1];return h!==r||f===12?null:f}()),c=s?Re(s)[0].toString():"";return P.createElement(Nt,Yt({max:i,min:l,name:"hour12",nameForClass:"hour",value:c},o))}var Jt=function(){return Jt=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Jt.apply(this,arguments)},to=function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n};function ro(e){var r=e.maxTime,n=e.minTime,a=to(e,["maxTime","minTime"]),s=wt(23,r&&fe(r)),o=Ct(0,n&&fe(n));return P.createElement(Nt,Jt({max:s,min:o,name:"hour24",nameForClass:"hour"},a))}var Qt=function(){return Qt=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Qt.apply(this,arguments)},no=function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n};function ao(e){var r=e.hour,n=e.maxTime,a=e.minTime,s=e.showLeadingZeros,o=s===void 0?!0:s,i=no(e,["hour","maxTime","minTime","showLeadingZeros"]);function l(f){return r===fe(f).toString()}var c=wt(59,n&&l(n)&&ye(n)),u=Ct(0,a&&l(a)&&ye(a));return P.createElement(Nt,Qt({max:c,min:u,name:"minute",showLeadingZeros:o},i))}var Xt=function(){return Xt=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Xt.apply(this,arguments)},so=function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n};function oo(e){var r=e.hour,n=e.maxTime,a=e.minTime,s=e.minute,o=e.showLeadingZeros,i=o===void 0?!0:o,l=so(e,["hour","maxTime","minTime","minute","showLeadingZeros"]);function c(h){return r===fe(h).toString()&&s===ye(h).toString()}var u=wt(59,n&&c(n)&&Ae(n)),f=Ct(0,a&&c(a)&&Ae(a));return P.createElement(Nt,Xt({max:u,min:f,name:"second",showLeadingZeros:i},l))}function io(e){var r=e.ariaLabel,n=e.disabled,a=e.maxTime,s=e.minTime,o=e.name,i=e.onChange,l=e.required,c=e.value,u=e.valueType,f=function(){switch(u){case"hour":return function(C){return"".concat(fe(C),":00")};case"minute":return cn;case"second":return un;default:throw new Error("Invalid valueType")}}(),h=function(){switch(u){case"hour":return 3600;case"minute":return 60;case"second":return 1;default:throw new Error("Invalid valueType")}}();function y(C){C.stopPropagation()}return P.createElement("input",{"aria-label":r,disabled:n,hidden:!0,max:a?f(a):void 0,min:s?f(s):void 0,name:o,onChange:i,onFocus:y,required:l,step:h,style:{visibility:"hidden",position:"absolute",zIndex:"-999"},type:"time",value:c?f(c):""})}function lo(e){var r=e.ariaLabel,n=e.autoFocus,a=e.className,s=e.disabled,o=e.inputRef,i=e.locale,l=e.maxTime,c=e.minTime,u=e.onChange,f=e.onKeyDown,h=e.required,y=e.value,C=c?Re(fe(c))[1]==="pm":!1,j=l?Re(fe(l))[1]==="am":!1,N="amPm",D=yn(i),b=D[0],g=D[1];return P.createElement("select",{"aria-label":r,autoFocus:n,className:Xe("".concat(a,"__input"),"".concat(a,"__").concat(N)),"data-input":"true","data-select":"true",disabled:s,name:N,onChange:u,onKeyDown:f,ref:o,required:h,value:y!==null?y:""},!y&&P.createElement("option",{value:""},"--"),P.createElement("option",{disabled:C,value:"am"},b),P.createElement("option",{disabled:j,value:"pm"},g))}var _e=function(){return _e=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},_e.apply(this,arguments)},Ar=function(e,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,o;a<s;a++)(o||!(a in r))&&(o||(o=Array.prototype.slice.call(r,0,a)),o[a]=r[a]);return e.concat(o||Array.prototype.slice.call(r))},Lr={},co=["hour","minute","second"];function uo(e){return e.dataset.input==="true"}function Mr(e,r){var n=e;do n=n[r];while(n&&!uo(n));return n}function Rt(e){e&&e.focus()}function mo(e,r,n){var a=[],s=new RegExp(Object.keys(r).map(function(i){return"".concat(i,"+")}).join("|"),"g"),o=e.match(s);return e.split(s).reduce(function(i,l,c){var u=l&&P.createElement(Rs,{key:"separator_".concat(c)},l),f=Ar(Ar([],i,!0),[u],!1),h=o&&o[c];if(h){var y=r[h]||r[Object.keys(r).find(function(C){return h.match(C)})];if(!y)return f;!n&&a.includes(y)?f.push(h):(f.push(y(h,c)),a.push(y))}return f},[])}var lt=Js({useGrouping:!1});function fo(e){var r=e.amPmAriaLabel,n=e.autoFocus,a=e.className,s=e.disabled,o=e.format,i=e.hourAriaLabel,l=e.hourPlaceholder,c=e.isClockOpen,u=c===void 0?null:c,f=e.locale,h=e.maxDetail,y=h===void 0?"minute":h,C=e.maxTime,j=e.minTime,N=e.minuteAriaLabel,D=e.minutePlaceholder,b=e.name,g=b===void 0?"time":b,E=e.nativeInputAriaLabel,k=e.onChange,H=e.onInvalidChange,Q=e.required,U=e.secondAriaLabel,_=e.secondPlaceholder,I=e.value,A=d.useState(null),$=A[0],W=A[1],Y=d.useState(null),X=Y[0],re=Y[1],ne=d.useState(null),x=ne[0],L=ne[1],F=d.useState(null),p=F[0],O=F[1],v=d.useState(null),T=v[0],S=v[1],M=d.useRef(null),B=d.useRef(null),V=d.useRef(null),G=d.useRef(null),oe=d.useRef(null),ce=d.useState(u),z=ce[0],J=ce[1],se=d.useRef();d.useEffect(function(){J(u)},[u]),d.useEffect(function(){var w=I;w?(W(Re(fe(w))[1]),re(fe(w).toString()),L(ye(w).toString()),O(Ae(w).toString()),S(w)):(W(null),re(null),L(null),O(null),S(null))},[I,j,C,y,z]);var he=y,xe=function(){var w=co.indexOf(y),R=Lr[w]||function(){var K={hour:"numeric"};return w>=1&&(K.minute="numeric"),w>=2&&(K.second="numeric"),Lr[w]=K,K}();return bn(R)}();function ue(w){var R=function(){switch(he){case"hour":case"minute":return cn;case"second":return un;default:throw new Error("Invalid valueType")}}();return R(w)}var ke=o||function(){var w=21,R=9,K=13,te=14,Ue=new Date(2017,0,1,w,K,te);return xe(f,Ue).replace(lt(f,R),"h").replace(lt(f,w),"H").replace(lt(f,K),"mm").replace(lt(f,te),"ss").replace(new RegExp(yn(f).join("|")),"a")}(),Ne=function(){var w=ke.match(/[^0-9a-z]/i);return w?w[0]:null}();function ee(w){if(w.target===w.currentTarget){var R=w.target.children[1];Rt(R)}}function Pe(w){switch(se.current=w.key,w.key){case"ArrowLeft":case"ArrowRight":case Ne:{w.preventDefault();var R=w.target,K=w.key==="ArrowLeft"?"previousElementSibling":"nextElementSibling",te=Mr(R,K);Rt(te);break}}}function St(w){var R=w.key,K=w.target,te=se.current===R;if(te){var Ue=!isNaN(Number(R));if(Ue){var ze=K.getAttribute("max");if(ze){var nt=K.value;if(Number(nt)*10>Number(ze)||nt.length>=ze.length){var Ot="nextElementSibling",Et=Mr(K,Ot);Rt(Et)}}}}}function et(){if(!k)return;function w(de){return!!de}var R=[M.current,B.current,V.current,G.current,oe.current].filter(w),K=R.slice(1),te={};R.forEach(function(de){te[de.name]=de.type==="number"?"valueAsNumber"in de?de.valueAsNumber:Number(de.value):de.value});var Ue=K.every(function(de){return!de.value});if(Ue){k(null,!1);return}var ze=R.every(function(de){return de.value}),nt=R.every(function(de){return de.validity.valid});if(ze&&nt){var Ot=Number(te.hour24||te.hour12&&te.amPm&&Tr(te.hour12,te.amPm)||0),Et=Number(te.minute||0),wn=Number(te.second||0),Tt=function(de){return"0".concat(de).slice(-2)},Cn="".concat(Tt(Ot),":").concat(Tt(Et),":").concat(Tt(wn)),Sn=ue(Cn);k(Sn,!1);return}H&&H()}function Me(w){var R=w.target,K=R.name,te=R.value;switch(K){case"amPm":W(te);break;case"hour12":re(te?Tr(te,$||"am").toString():"");break;case"hour24":re(te);break;case"minute":L(te);break;case"second":O(te);break}et()}function qe(w){var R=w.target.value;if(k){var K=R||null;k(K,!1)}}var Oe={className:a,disabled:s,maxTime:C,minTime:j,onChange:Me,onKeyDown:Pe,onKeyUp:St,required:!!(Q||z)};function kt(w,R){if(w&&w.length>2)throw new Error("Unsupported token: ".concat(w));var K=w?w.length===2:!1;return P.createElement(eo,_e({key:"hour12"},Oe,{amPm:$,ariaLabel:i,autoFocus:R===0&&n,inputRef:B,placeholder:l,showLeadingZeros:K,value:X}))}function Pt(w,R){if(w&&w.length>2)throw new Error("Unsupported token: ".concat(w));var K=w?w.length===2:!1;return P.createElement(ro,_e({key:"hour24"},Oe,{ariaLabel:i,autoFocus:R===0&&n,inputRef:V,placeholder:l,showLeadingZeros:K,value:X}))}function Z(w,R){return/h/.test(w)?kt(w,R):Pt(w,R)}function ae(w,R){if(w&&w.length>2)throw new Error("Unsupported token: ".concat(w));var K=w?w.length===2:!1;return P.createElement(ao,_e({key:"minute"},Oe,{ariaLabel:N,autoFocus:R===0&&n,hour:X,inputRef:G,placeholder:D,showLeadingZeros:K,value:x}))}function ve(w,R){if(w&&w.length>2)throw new Error("Unsupported token: ".concat(w));var K=w?w.length===2:!0;return P.createElement(oo,_e({key:"second"},Oe,{ariaLabel:U,autoFocus:R===0&&n,hour:X,inputRef:oe,minute:x,placeholder:_,showLeadingZeros:K,value:p}))}function Ee(w,R){return P.createElement(lo,_e({key:"ampm"},Oe,{ariaLabel:r,autoFocus:R===0&&n,inputRef:M,locale:f,onChange:Me,value:$}))}function tt(){var w={h:Z,H:Z,m:ae,s:ve,a:Ee},R=typeof o<"u";return mo(ke,w,R)}function rt(){return P.createElement(io,{key:"time",ariaLabel:E,disabled:s,maxTime:C,minTime:j,name:g,onChange:qe,required:Q,value:T,valueType:he})}return P.createElement("div",{className:a,onClick:ee},rt(),tt())}var po=function(e,r,n){if(n||arguments.length===2)for(var a=0,s=r.length,o;a<s;a++)(o||!(a in r))&&(o||(o=Array.prototype.slice.call(r,0,a)),o[a]=r[a]);return e.concat(o||Array.prototype.slice.call(r))},ho=["hour","minute","second"],xo=po([],ho,!0),go=/^(([0-1])?[0-9]|2[0-3]):[0-5][0-9](:([0-5][0-9]))?$/,er=function(r,n,a){var s=r,o=n,i=s[o];return i&&(typeof i!="string"||!go.test(i))?new Error("Invalid prop `".concat(n,"` of type `").concat(typeof i,"` supplied to `").concat(a,"`, expected time in HH:mm(:ss) format.")):null};m.oneOf(xo);m.oneOfType([m.func,m.exact({current:m.any})]);var vo=function(e){return m.arrayOf(e)},Le=function(){return Le=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},Le.apply(this,arguments)},Fr=function(e,r){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&r.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)r.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n},bo=typeof document<"u",pe="react-time-picker",yo=["mousedown","focusin","touchstart"],jo=["hour","minute","second"],Nn={xmlns:"http://www.w3.org/2000/svg",width:19,height:19,viewBox:"0 0 19 19",stroke:"black",strokeWidth:2},No=P.createElement("svg",Le({},Nn,{className:"".concat(pe,"__clock-button__icon ").concat(pe,"__button__icon"),fill:"none"}),P.createElement("circle",{cx:"9.5",cy:"9.5",r:"7.5"}),P.createElement("path",{d:"M9.5 4.5 v5 h4"})),wo=P.createElement("svg",Le({},Nn,{className:"".concat(pe,"__clear-button__icon ").concat(pe,"__button__icon")}),P.createElement("line",{x1:"4",x2:"15",y1:"4",y2:"15"}),P.createElement("line",{x1:"15",x2:"4",y1:"4",y2:"15"})),$e=function(r){var n=r.amPmAriaLabel,a=r.autoFocus,s=r.className,o=r.clearAriaLabel,i=r.clearIcon,l=i===void 0?wo:i,c=r.clockAriaLabel,u=r.clockIcon,f=u===void 0?No:u,h=r.closeClock,y=h===void 0?!0:h,C=r["data-testid"],j=r.hourAriaLabel,N=r.hourPlaceholder,D=r.disableClock,b=r.disabled,g=r.format,E=r.id,k=r.isOpen,H=k===void 0?null:k,Q=r.locale,U=r.maxTime,_=r.maxDetail,I=_===void 0?"minute":_,A=r.minTime,$=r.minuteAriaLabel,W=r.minutePlaceholder,Y=r.name,X=Y===void 0?"time":Y,re=r.nativeInputAriaLabel,ne=r.onClockClose,x=r.onClockOpen,L=r.onChange,F=r.onFocus,p=r.onInvalidChange,O=r.openClockOnFocus,v=O===void 0?!0:O,T=r.required,S=r.value,M=r.secondAriaLabel,B=r.secondPlaceholder,V=r.shouldCloseClock,G=r.shouldOpenClock,oe=Fr(r,["amPmAriaLabel","autoFocus","className","clearAriaLabel","clearIcon","clockAriaLabel","clockIcon","closeClock","data-testid","hourAriaLabel","hourPlaceholder","disableClock","disabled","format","id","isOpen","locale","maxTime","maxDetail","minTime","minuteAriaLabel","minutePlaceholder","name","nativeInputAriaLabel","onClockClose","onClockOpen","onChange","onFocus","onInvalidChange","openClockOnFocus","required","value","secondAriaLabel","secondPlaceholder","shouldCloseClock","shouldOpenClock"]),ce=d.useState(H),z=ce[0],J=ce[1],se=d.useRef(null),he=d.useRef(null);d.useEffect(function(){J(H)},[H]);function xe(Z){var ae=Z.reason;G&&!G({reason:ae})||(J(!0),x&&x())}var ue=d.useCallback(function(Z){var ae=Z.reason;V&&!V({reason:ae})||(J(!1),ne&&ne())},[ne,V]);function ke(){z?ue({reason:"buttonClick"}):xe({reason:"buttonClick"})}function Ne(Z,ae){ae===void 0&&(ae=y),ae&&ue({reason:"select"}),L&&L(Z)}function ee(Z){F&&F(Z),!(b||z||!v||Z.target.dataset.select==="true")&&xe({reason:"focus"})}var Pe=d.useCallback(function(Z){Z.key==="Escape"&&ue({reason:"escape"})},[ue]);function St(){Ne(null)}function et(Z){Z.stopPropagation()}var Me=d.useCallback(function(Z){var ae=se.current,ve=he.current,Ee="composedPath"in Z?Z.composedPath()[0]:Z.target;Ee&&ae&&!ae.contains(Ee)&&(!ve||!ve.contains(Ee))&&ue({reason:"outsideAction"})},[he,ue,se]),qe=d.useCallback(function(Z){Z===void 0&&(Z=z),yo.forEach(function(ae){Z?document.addEventListener(ae,Me):document.removeEventListener(ae,Me)}),Z?document.addEventListener("keydown",Pe):document.removeEventListener("keydown",Pe)},[z,Me,Pe]);d.useEffect(function(){return qe(),function(){qe(!1)}},[qe]);function Oe(){var Z=(Array.isArray(S)?S:[S])[0],ae={amPmAriaLabel:n,hourAriaLabel:j,minuteAriaLabel:$,nativeInputAriaLabel:re,secondAriaLabel:M},ve={hourPlaceholder:N,minutePlaceholder:W,secondPlaceholder:B};return P.createElement("div",{className:"".concat(pe,"__wrapper")},P.createElement(fo,Le({},ae,ve,{autoFocus:a,className:"".concat(pe,"__inputGroup"),disabled:b,format:g,isClockOpen:z,locale:Q,maxDetail:I,maxTime:U,minTime:A,name:X,onChange:Ne,onInvalidChange:p,required:T,value:Z})),l!==null&&P.createElement("button",{"aria-label":o,className:"".concat(pe,"__clear-button ").concat(pe,"__button"),disabled:b,onClick:St,onFocus:et,type:"button"},typeof l=="function"?P.createElement(l):l),f!==null&&!D&&P.createElement("button",{"aria-label":c,className:"".concat(pe,"__clock-button ").concat(pe,"__button"),disabled:b,onClick:ke,onFocus:et,type:"button"},typeof f=="function"?P.createElement(f):f))}function kt(){if(z===null||D)return null;var Z=r.clockClassName;r.className,r.onChange;var ae=r.portalContainer,ve=r.value,Ee=Fr(r,["clockClassName","className","onChange","portalContainer","value"]),tt="".concat(pe,"__clock"),rt=Xe(tt,"".concat(tt,"--").concat(z?"open":"closed")),w=(Array.isArray(ve)?ve:[ve])[0],R=P.createElement(hn,Le({className:Z,value:w},Ee));return ae?Gr.createPortal(P.createElement("div",{ref:he,className:rt},R),ae):P.createElement(Hs,null,P.createElement("div",{ref:function(K){K&&!z&&K.removeAttribute("style")},className:rt},R))}var Pt=d.useMemo(function(){return ls(oe)},[oe]);return P.createElement("div",Le({className:Xe(pe,"".concat(pe,"--").concat(z?"open":"closed"),"".concat(pe,"--").concat(b?"disabled":"enabled"),s),"data-testid":C,id:E},Pt,{onFocus:ee,ref:se}),Oe(),kt())},Ir=m.oneOfType([er,m.instanceOf(Date)]),Co=m.oneOfType([Ir,vo(Ir)]);$e.propTypes={amPmAriaLabel:m.string,autoFocus:m.bool,className:m.oneOfType([m.string,m.arrayOf(m.string)]),clearAriaLabel:m.string,clearIcon:m.oneOfType([m.node,m.func]),clockAriaLabel:m.string,clockClassName:m.oneOfType([m.string,m.arrayOf(m.string)]),clockIcon:m.oneOfType([m.node,m.func]),closeClock:m.bool,"data-testid":m.string,disableClock:m.bool,disabled:m.bool,format:m.string,hourAriaLabel:m.string,hourPlaceholder:m.string,id:m.string,isOpen:m.bool,locale:m.string,maxDetail:m.oneOf(jo),maxTime:er,minTime:er,minuteAriaLabel:m.string,minutePlaceholder:m.string,name:m.string,nativeInputAriaLabel:m.string,onChange:m.func,onClockClose:m.func,onClockOpen:m.func,onFocus:m.func,openClockOnFocus:m.bool,required:m.bool,secondAriaLabel:m.string,secondPlaceholder:m.string,value:Co};bo&&($e.propTypes.portalContainer=m.instanceOf(HTMLElement));function So(){const[e,r]=d.useState({name:[],therapytype:[],fullName:"",email:"",qualification:"",experience:"",address:{addressLine1:"",street:"",country:"",state:"",city:"",pincode:""},regularPrice:"",license:"",phone:"",availability:{morningStart:"",morningEnd:"",eveningStart:"",eveningEnd:""},description:"",profilePicture:""}),[n,a]=d.useState(0),[s,o]=d.useState({}),i=(b,g)=>{r(E=>{const k=E[b]||[],H=k.includes(g)?k.filter(Q=>Q!==g):[...k,g];return{...E,[b]:H}})},l=b=>{const{name:g,value:E}=b.target,k=g.split(".");k.length===2?r(H=>({...H,[k[0]]:{...H[k[0]],[k[1]]:E}})):r(H=>({...H,[g]:E}))},c=()=>{const b={};return n===0&&e.name.length===0&&(b.name="Please select at least one service"),n===1&&e.therapytype.length===0&&(b.therapytype="Please select at least one service type"),n===2&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&(b.email="Invalid email format"),n===4&&e.regularPrice<=100&&(b.regularPrice="Fee must be greater than 100"),n===5&&e.experience<=0&&(b.experience="Experience must be greater than 0"),n===6&&!/^[0-9]{10}$/.test(e.phone)&&(b.phone="Phone number must be 10 digits"),n===3&&!/^[0-9]{6}$/.test(e.address.pincode)&&(b.pincode="Pincode must be 6 digits"),n===8&&e.description.split(" ").length<30&&(b.description="Biography must be at least 30 words"),n===8&&!e.profilePicture&&(b.profilePicture="Image is required"),o(b),Object.keys(b).length===0},u=b=>{b.preventDefault();try{c()&&(console.log(e),console.log("save"),a(n+1))}catch(g){console.log(g),console.log("Failed to save data.")}},f=()=>{a(n-1)},y=n/9*100,C=b=>{switch(b){case 0:return"Select the primary service you are offering. This helps us tailor the rest of the form to better suit your needs.";case 1:return"Specify the type of service you provide. This information helps us categorize your expertise accurately.";case 2:return"Enter your personal details. Accurate information ensures smooth communication and verification.";case 3:return"Provide your location details. This helps potential clients find and reach you more easily.";case 4:return"Indicate the fee you charge for your services. Make sure it's competitive and reflects your expertise.";case 5:return"Share your experience in this field. Clients value providers with a proven track record.";case 6:return"Enter your licensing details and phone number. This ensures we have the correct contact information and validates your credentials.";case 7:return"Set your available timings for appointments. This helps clients book sessions at convenient times.";case 8:return"Write a brief biography and upload a profile picture. A compelling introduction and a professional image can attract more clients.";default:return""}},j=b=>{switch(b){case 0:return"Ensure the service aligns with your expertise and qualifications.";case 1:return"Provide a detailed and accurate service type to attract the right clients.";case 2:return"Use your legal name and a valid email address to avoid delays.";case 3:return"Use your legal name and a valid email address to avoid delays.";case 4:return"Fees must be reasonable and justified by your experience and service quality.";case 5:return"Detail your years of experience and significant achievements or qualifications.";case 6:return" Only provide valid licenses and a contactable phone number.";case 7:return"Be realistic about your availability to avoid overbooking.";case 8:return"Your biography should be at least 30 words. Profile picture must be a clear, professional image.";default:return""}},N=(b,g)=>b.map(E=>{var k;return t.jsx("button",{type:"button",disabled:E.isDisabled,className:`p-3 m-1 rounded-lg border ${(k=e[g])!=null&&k.includes(E.value)?"menu-Button text-white":`bg-blue-100 ${E.isDisabled?"text-gray-400":"text-gray-700"}`}`,onClick:()=>i(g,E.value),children:E.value},E.value)}),D=(b,g)=>b.map(E=>{var k;return t.jsx("button",{type:"button",className:`p-3 m-1 rounded-lg border ${(k=e[g])!=null&&k.includes(E)?"menu-Button text-white":`bg-blue-100 ${E.isDisabled?"text-gray-400":"text-gray-700"}`}`,onClick:()=>i(g,E),children:E},E)});return t.jsxs("div",{children:[t.jsx("div",{className:"fixed progress-bg mt w-full top-0 h-1.5 z-50",children:t.jsx("div",{className:"progress-bgs h-full transition-width duration-500 ease-in-out",style:{width:`${y}%`}})}),t.jsxs("div",{className:"container flex flex-col mx-auto",children:[t.jsx("h1",{className:"text-lg md:text-2xl m-10 text-left font-bold text-gray",children:"Fill the form for Parent Profile :"}),t.jsxs("div",{className:"flex flex-col md:flex-row md:gap-10 rounded-lg justify-center items-center",children:[t.jsx("div",{className:"flex-col h-auto p-2 max-w-lg text-left",children:t.jsxs("div",{className:"border-l-4 menu-borderColor md:p-6 lg:p-8 p-4 secondary-bg rounded-3xl",children:[t.jsxs("h2",{className:"flex flex-row  items-center gap-2 menu-textColor text-2xl font-bold",children:[t.jsx(qr,{})," Good To Know"]}),t.jsx("p",{className:"menu-subTextColor mt-2 text-xs md:text-lg justify-between",children:C(n)}),t.jsx("p",{className:"menu-subTextColor mt-2 text-xs md:text-lg justify-between",children:j(n)})]})}),t.jsxs("form",{onSubmit:u,className:"w-full md:w-[500px]",children:[n===0&&t.jsxs("div",{className:"p-6 text-center ml-5",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-700 mb-5",children:"Please Select your Service"}),t.jsx("div",{className:"flex flex-col h-64 overflow-y-auto",children:N(mt,"name")}),s.name&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:s.name}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",disabled:!0,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),n===1&&t.jsxs("div",{className:"p-6 text-center ml-5",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-700 mb-5",children:"Please Select your Service Type"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("div",{className:"flex flex-col ",children:D(["Virtual","In-Home","In-Clinic"],"therapytype")}),s.therapytype&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:s.therapytype}),t.jsx("br",{}),t.jsx("br",{}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",onClick:f,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),n===2&&t.jsxs("div",{className:"p-6 text-center ml-5",children:[t.jsx("h2",{className:"text-2xl font-bold text-purple-700 mb-5",children:"Basic Information"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("label",{className:"mb-5",children:"Full Name"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 mt-5 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your fullname",onChange:l,value:e.fullName,name:"fullName",required:!0}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("label",{children:"Email"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 mt-5 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your Email",onChange:l,value:e.email,name:"email",required:!0}),s.email&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:s.email}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("label",{children:"Qualification"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 mt-5 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your Qualification",onChange:l,value:e.qualification,name:"qualification",required:!0}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",onClick:f,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),n===3&&t.jsxs("div",{className:"p-6 text-center ml-5",children:[t.jsx("h2",{className:"text-2xl font-bold text-purple-700 mb-5",children:"Location Details"}),t.jsx("p",{children:"Address"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Enter Address",onChange:l,value:e.address.addressLine1,name:"address.addressLine1",required:!0}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("p",{children:"Street"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your Street",onChange:l,value:e.address.street,name:"address.street",required:!0}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("p",{children:"Country"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your Country",onChange:l,value:e.address.country,name:"address.country",required:!0}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("p",{children:"State"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your State",onChange:l,value:e.address.state,name:"address.state",required:!0}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("p",{children:"City"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your City",onChange:l,value:e.address.city,name:"address.city",required:!0}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("p",{children:"Pincode"}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your Pincode",onChange:l,value:e.address.pincode,name:"address.pincode",required:!0}),s.pincode&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:s.pincode}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",onClick:f,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),n===4&&t.jsxs("div",{className:"p-6 text-center ml-5",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-700 mb-5",children:"Fee per Appoinment"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your fee",onChange:l,value:e.regularPrice,name:"regularPrice",required:!0}),s.regularPrice&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:s.regularPrice}),t.jsx("br",{}),t.jsx("br",{}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",onClick:f,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),n===5&&t.jsxs("div",{className:"p-6 text-center ml-5",children:[t.jsx("p",{className:"text-2xl font-bold text-purple-700 mb-5",children:"Years of Experience"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("input",{type:"number",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your experience",onChange:l,value:e.experience,name:"experience",required:!0}),s.experience&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:s.experience}),t.jsx("br",{}),t.jsx("br",{}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",onClick:f,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),n===6&&t.jsxs("div",{className:"p-6 text-center ml-5",children:[t.jsx("h2",{className:"text-2xl font-bold text-purple-700 mb-5 ",children:"Authentication"}),t.jsx("label",{children:"Licensing"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Eg. License Number, Issuing authority",onChange:l,value:e.license,name:"license",required:!0}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("p",{children:"Phone Number"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("input",{type:"text",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Enter your Phone no",onChange:l,value:e.phone,name:"phone",required:!0}),s.phone&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:s.phone}),t.jsx("br",{}),t.jsx("br",{}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",onClick:f,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),n===7&&t.jsxs("div",{className:"p-6 text-center ml-5",children:[t.jsx("h2",{className:"text-2xl font-bold text-purple-700 mb-5",children:"Availability"}),t.jsx("label",{children:"Morning"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx($e,{type:"time",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500 ",onChange:b=>l({target:{name:"availability.morningStart",value:b}}),value:e.availability.morningStart,name:"data.availability.morningStart",format:"h:mm a",required:!0}),t.jsx($e,{type:"time",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500 ",onChange:b=>l({target:{name:"availability.morningEnd",value:b}}),value:e.availability.morningEnd,name:"data.availability.morningEnd",format:"h:mm a",required:!0}),t.jsx($e,{type:"time",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500 ",onChange:b=>l({target:{name:"availability.eveningStart",value:b}}),value:e.availability.eveningStart,name:"data.availability.eveningStart",format:"h:mm a",required:!0}),t.jsx($e,{type:"time",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500 ",onChange:b=>l({target:{name:"availability.eveningEnd",value:b}}),value:e.availability.eveningEnd,name:"data.availability.eveningEnd",format:"h:mm a",required:!0}),t.jsx("br",{}),t.jsx("br",{}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",onClick:f,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]}),n===8&&t.jsxs("div",{className:"p-6 text-center ml-5",children:[t.jsx("h2",{className:"text-2xl font-bold text-purple-700 mb-5",children:"About"}),t.jsx("label",{children:"Biograpghy"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("input",{type:"textarea",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500 ",onChange:l,value:e.description,name:"description",required:!0}),s.description&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:s.description}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("p",{children:"Profile"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx("input",{type:"file",className:"w-full p-3 rounded-lg border-gray-300 focus:ring-2 focus:ring-purple-500",placeholder:"Add your profile",onChange:l,value:e.profilePicture,name:"profilePicture",required:!0}),s.profilePicture&&t.jsx("p",{className:"text-red-500 font-serif text-sm mt-1",children:s.profilePicture}),t.jsx("br",{}),t.jsx("br",{}),t.jsxs("div",{className:"flex justify-center mt-4 gap-4",children:[t.jsx("button",{className:"p-3 px-8 rounded-xl bg-slate-200 text-slate-400",type:"submit",onClick:f,children:"Back"}),t.jsx("button",{className:"p-3 px-8 rounded-xl btn-color text-white font-semibold text-center hover:opacity-95",type:"submit",children:"Next"})]})]})]})]})]})]})}function $o(){const e=yt(),[r,n]=d.useState("Dashboard"),{currentUser:a}=le(i=>i.user),{currentProvider:s}=le(i=>i.provider),o=je();return d.useEffect(()=>{(async()=>{const l=`/server/booking/getuserbookings/${a._id}`;try{o(Hr());const c=await fetch(l);if(!c.ok)throw new Error(`HTTP error! status: ${c.status}`);const u=await c.json();o(Rr(u)),console.log("Booking data:",u)}catch(c){o(Br(c)),console.error("An error occurred while fetching booking details:",c)}})()},[a._id,o]),d.useEffect(()=>{const l=new URLSearchParams(e.search).get("tab");["dashboard","providers","profile","Profile Setting","Parent Details","Bookings","messages"].includes(l)&&n(l)},[e.search]),d.useEffect(()=>{const l=new URLSearchParams(e.search).get("tag");["dashboard","providers","profile","Profile Setting","Parent Details","Bookings","messages"].includes(l)&&n(l)},[e.search]),t.jsxs("div",{className:"flex flex-col mx-auto w-full",children:[t.jsx(t.Fragment,{children:t.jsx(Wn,{})}),r==="dashboard"&&t.jsx(Vn,{}),r==="providers"&&(s?t.jsx(Ba,{}):t.jsx(So,{})),(r==="profile"||r==="Profile Setting"||r==="Parent Details"||r==="Bookings")&&t.jsx(Yn,{}),r==="messages"&&t.jsx(qa,{})]})}export{$o as default};
