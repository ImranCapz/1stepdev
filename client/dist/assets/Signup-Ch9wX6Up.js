import{r as t,u as k,j as e,k as P,l as E,a3 as F,aa as L,L as A,_ as f}from"./index-SDRb-TLi.js";import{b as O}from"./index-oh6lfEFq.js";const D=()=>{const[a,h]=t.useState({email:"",username:""}),[u,m]=t.useState(!1),[g,l]=t.useState(!1),[y,j]=t.useState(""),[x,p]=t.useState(!1),b=k(),i=t.useRef(null),w=u||x?"#ff0000":"#ff9900",o=s=>{const c=s.target.id,n=s.target.value;if(c==="email"){const d=n.split(".com");if(d.length>2||d.length===2&&d[1]!=="")return}h({...a,[s.target.id]:s.target.value})},v=s=>{j(s.target.value)},[r,N]=t.useState(!1),C=()=>{N(!r)},S=async s=>{if(s.preventDefault(),a.password!==y){p(!0);return}else p(!1);try{i.current.continuousStart(100),l(!0);const n=await(await fetch("server/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).json();if(l(!1),n.success===!0){f.error(n.message),m(!0);return}f.success("Account Created Successfully"),b("/signin")}catch{l(!1),m(!0)}finally{i.current.complete()}};return e.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsx(P,{ref:i,color:w,height:4}),e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsx("img",{className:"mx-auto h-10 w-auto",src:E,alt:"Your Company"}),e.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Create a new 1Step Account"})]}),e.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsxs("form",{className:"space-y-6",onSubmit:S,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-gray-900",children:"Name"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"username",type:"text",onChange:o,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring- hover:border-purple-400"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"email",type:"email",onChange:o,value:a.email,autoComplete:"email",required:!0,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring-0 hover:border-purple-400"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),e.jsxs("div",{className:"mt-2 relative rounded-md shadow-sm",children:[e.jsx("input",{id:"password",onChange:o,type:r?"text":"password",autoComplete:"current-password",required:!0,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring- hover:border-purple-400"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",children:e.jsx("button",{type:"button",onClick:C,children:r?e.jsx(F,{className:"text-gray-700"}):e.jsx(O,{className:"text-gray-500"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium leading-6 text-gray-900",children:"Re-enter Password"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"confirmPassword",onChange:v,type:r?"text":"password",autoComplete:"current-password",required:!0,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring- hover:border-purple-400"})})]}),e.jsx("div",{children:e.jsx("button",{disabled:g,type:"submit",className:"flex w-full justify-center rounded-md bg-amber-400 px-3 py-1.5 text-sm font-semibold leading-6 text-indigo-950 shadow-sm hover:bg-amber-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-all duration-300 ease-in-out",children:g?"Loading...":"Create Account"})}),e.jsx(L,{redirect:"/"})]}),e.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Already have an account?"," ",e.jsx(A,{to:"/signin",className:"font-semibold leading-6 text-neutral-900 hover:text-slate-500 transition-all duration-300 ease-in-out",children:"Sign in"})]}),e.jsx("p",{className:"mt-5 text-red-700",children:u&&"Username already exist"}),e.jsx("p",{className:"mt-5 text-red-700",children:x&&"Password not match"})]})]})};export{D as default};
