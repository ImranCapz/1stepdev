import{r as p,a as O}from"./react-DiIsFRGf.js";import{g as T,p as it,A as W,a as ut,f as lt,b as U,m as ft}from"./libphonenumber-js-fczAwKKS.js";import{P as i}from"./prop-types-DepTH4Nk.js";import{I as ct}from"./input-format-C2kHUKsc.js";function Q(t){var n=t.country,e=t.international,r=t.withCountryCallingCode,a=t.metadata;return n&&e&&!r?"+".concat(T(n,a)):""}function F(t,n){return n&&(t=t.slice(n.length),t[0]===" "&&(t=t.slice(1))),t}function st(t,n,e){if(!(e&&e.ignoreRest)){var r=function(o){if(e)switch(o){case"end":e.ignoreRest=!0;break}};return it(t,n,r)}}function X(t){var n=t.onKeyDown,e=t.international;return p.useCallback(function(r){if(r.keyCode===yt&&e&&r.target instanceof HTMLInputElement&&pt(r.target)===mt){r.preventDefault();return}n&&n(r)},[n,e])}var yt=8;function pt(t){return t.selectionStart}var mt=1,Ct=["onKeyDown","country","international","withCountryCallingCode","metadata"];function K(){return K=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},K.apply(this,arguments)}function dt(t,n){if(t==null)return{};var e=gt(t,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function gt(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function vt(t){function n(e,r){var a=e.onKeyDown,o=e.country,l=e.international,f=e.withCountryCallingCode,y=e.metadata,s=y===void 0?t:y,u=dt(e,Ct),C=p.useCallback(function(j){var v=new W(o,s),g=Q({country:o,international:l,withCountryCallingCode:f,metadata:s}),b=v.input(g+j),w=v.getTemplate();return g&&(b=F(b,g),w&&(w=F(w,g))),{text:b,template:w}},[o,s]),d=X({onKeyDown:a,international:l});return O.createElement(ct,K({},u,{ref:r,parse:st,format:C,onKeyDown:d}))}return n=O.forwardRef(n),n.propTypes={value:i.string.isRequired,onChange:i.func.isRequired,onKeyDown:i.func,country:i.string,international:i.bool,withCountryCallingCode:i.bool,metadata:i.object},n}const bt=vt();var ht=["value","onChange","onKeyDown","country","international","withCountryCallingCode","metadata","inputComponent"];function _(){return _=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},_.apply(this,arguments)}function wt(t,n){if(t==null)return{};var e=Ot(t,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function Ot(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function jt(t){function n(e,r){var a=e.value,o=e.onChange,l=e.onKeyDown,f=e.country,y=e.international,s=e.withCountryCallingCode,u=e.metadata,C=u===void 0?t:u,d=e.inputComponent,j=d===void 0?"input":d,v=wt(e,ht),g=Q({country:f,international:y,withCountryCallingCode:s,metadata:C}),b=p.useCallback(function(S){var P=ut(S.target.value);if(P===a){var R=G(g,P,f,C);R.indexOf(S.target.value)===0&&(P=P.slice(0,-1))}o(P)},[g,a,o,f,C]),w=X({onKeyDown:l,international:y});return O.createElement(j,_({},v,{ref:r,value:G(g,a,f,C),onChange:b,onKeyDown:w}))}return n=O.forwardRef(n),n.propTypes={value:i.string.isRequired,onChange:i.func.isRequired,onKeyDown:i.func,country:i.string,international:i.bool,withCountryCallingCode:i.bool,metadata:i.object,inputComponent:i.elementType},n}const Pt=jt();function G(t,n,e,r){return F(lt(t+n,e,r),t)}function It(t){if(t.length<2||t[0]!=="+")return!1;for(var n=1;n<t.length;){var e=t.charCodeAt(n);if(!(e>=48&&e<=57))return!1;n++}return!0}function St(t){It(t)||console.error("[react-phone-number-input] Expected the initial `value` to be a E.164 phone number. Got",t)}var $t=i.shape({country_calling_codes:i.object.isRequired,countries:i.object.isRequired});i.objectOf(i.string);function Z(t,n){var e="+"+T(t,n);return e}function E(t,n){return Dt(t)||Tt(t,n)||Et(t,n)||At()}function At(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Et(t,n){if(t){if(typeof t=="string")return z(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return z(t,n)}}function z(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Tt(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var r,a,o,l,f=[],y=!0,s=!1;try{if(o=(e=e.call(t)).next,n!==0)for(;!(y=(r=o.call(e)).done)&&(f.push(r.value),f.length!==n);y=!0);}catch(u){s=!0,a=u}finally{try{if(!y&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(s)throw a}}return f}}function Dt(t){if(Array.isArray(t))return t}function Nt(t){var n=this,e=t.value,r=t.onChange,a=t.country,o=t.defaultCountry,l=t.international,f=t.withCountryCallingCode,y=t.useNationalFormatForDefaultCountryValue,s=t.metadata,u=p.useRef(),C=function(m,h,A){console.error("[react-phone-number-input] Expected phone number ".concat(m," to correspond to country ").concat(h," but ").concat(A?"in reality it corresponds to country "+A:"it doesn't",".")),u.current=!0},d=function(m){return e&&St(e),xt(e,a,l,f,o,y,s,function(){m&&m.onCountryMismatch&&m.onCountryMismatch();for(var h=arguments.length,A=new Array(h),N=0;N<h;N++)A[N]=arguments[N];C.apply(n,A)})},j=p.useState(a),v=E(j,2),g=v[0],b=v[1],w=p.useState(o),S=E(w,2),P=S[0],R=S[1],et=p.useState(d()),L=E(et,2),nt=L[0],I=L[1],rt=p.useState(e),q=E(rt,2),D=q[0],$=q[1],at=p.useState(),M=E(at,2);M[0];var H=M[1],Y=p.useCallback(function(){return H({})},[H]);function B(c){if(c){a&&l&&!f&&(c="+".concat(T(a,s)).concat(c));var m=new W(a||o,s);return m.input(c),m.getNumberValue()}}p.useEffect(function(){e!==D&&($(e),I(d()))},[e]),p.useEffect(function(){if(a!==g){b(a);var c,m=d({onCountryMismatch:function(){c=!0}});I(m),c&&$(B(m))}},[a]),p.useEffect(function(){o!==P&&(R(o),I(d()))},[o]),p.useEffect(function(){D!==e&&r(D)},[D]);var ot=p.useCallback(function(c){var m;if(a)if(l&&f){var h=Z(a,s);if(c.indexOf(h)!==0){if(c&&c[0]!=="+")c=h+c;else if(!u.current)return I(h),$(void 0),Y()}}else c&&c[0]==="+"&&(c=c.slice(1));else o||c&&c[0]!=="+"&&(c="+"+c);c&&(m=B(c)),I(c),$(m)},[a,l,f,o,s,I,$,Y,u]);return[nt,ot]}function xt(t,n,e,r,a,o,l,f){if(n&&e&&r){var y=Z(n,l);return t?(t.indexOf(y)!==0&&f(t,n),t):y}if(!t)return"";if(!n&&!a)return t;var s=new W(void 0,l);s.input(t);var u=s.getNumber();return u?n?(u.country&&u.country!==n?f(t,n,u.country):u.countryCallingCode!==T(n,l)&&f(t,n),e?u.nationalNumber:U(u.formatNational())):u.countryCallingCode&&u.countryCallingCode===T(a,l)&&o?U(u.formatNational()):t:""}var Rt=["Component","country","defaultCountry","useNationalFormatForDefaultCountryValue","value","onChange","metadata","international","withCountryCallingCode"];function V(){return V=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},V.apply(this,arguments)}function Ft(t,n){return kt(t)||Vt(t,n)||_t(t,n)||Kt()}function Kt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _t(t,n){if(t){if(typeof t=="string")return J(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);if(e==="Object"&&t.constructor&&(e=t.constructor.name),e==="Map"||e==="Set")return Array.from(t);if(e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return J(t,n)}}function J(t,n){(n==null||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Vt(t,n){var e=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(e!=null){var r,a,o,l,f=[],y=!0,s=!1;try{if(o=(e=e.call(t)).next,n!==0)for(;!(y=(r=o.call(e)).done)&&(f.push(r.value),f.length!==n);y=!0);}catch(u){s=!0,a=u}finally{try{if(!y&&e.return!=null&&(l=e.return(),Object(l)!==l))return}finally{if(s)throw a}}return f}}function kt(t){if(Array.isArray(t))return t}function Wt(t,n){if(t==null)return{};var e=Lt(t,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function Lt(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function x(t,n){var e=t.Component,r=t.country,a=t.defaultCountry,o=t.useNationalFormatForDefaultCountryValue,l=o===void 0?!0:o,f=t.value,y=t.onChange,s=t.metadata,u=t.international,C=t.withCountryCallingCode,d=Wt(t,Rt),j=Nt({value:f,onChange:y,country:r,defaultCountry:a,international:u,withCountryCallingCode:C,useNationalFormatForDefaultCountryValue:l,metadata:s}),v=Ft(j,2),g=v[0],b=v[1];return O.createElement(e,V({},d,{ref:n,metadata:s,international:u,withCountryCallingCode:C,country:r||a,value:g,onChange:b}))}x=O.forwardRef(x);x.propTypes={value:i.string,onChange:i.func.isRequired,country:i.string,defaultCountry:i.string,international:i.bool,withCountryCallingCode:i.bool,Component:i.elementType.isRequired,useNationalFormatForDefaultCountryValue:i.bool,metadata:$t};var qt=["type","autoComplete","smartCaret","metadata"];function k(){return k=Object.assign?Object.assign.bind():function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},k.apply(this,arguments)}function Mt(t,n){if(t==null)return{};var e=Ht(t,n),r,a;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(a=0;a<o.length;a++)r=o[a],!(n.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(e[r]=t[r])}return e}function Ht(t,n){if(t==null)return{};var e={},r=Object.keys(t),a,o;for(o=0;o<r.length;o++)a=r[o],!(n.indexOf(a)>=0)&&(e[a]=t[a]);return e}function tt(t){function n(e,r){var a=e.type,o=a===void 0?"tel":a,l=e.autoComplete,f=l===void 0?"tel":l,y=e.smartCaret,s=y===void 0?!0:y,u=e.metadata,C=u===void 0?t:u,d=Mt(e,qt);return O.createElement(x,k({},d,{type:o,autoComplete:f,metadata:C,ref:r,Component:s?bt:Pt}))}return n=O.forwardRef(n),n.propTypes={type:i.string,autoComplete:i.string,smartCaret:i.bool,metadata:i.object},n}tt();const zt=tt(ft);export{zt as I};
