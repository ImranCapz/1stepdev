import{r as s,u as h,j as e,l as y,L as l,_ as c}from"./index-D_NL2s92.js";function f(){const[o,m]=s.useState(""),[d,u]=s.useState(""),[n,g]=s.useState(""),[t,i]=s.useState(null),x=h(),b=async()=>{try{const a=await(await fetch("server/auth/verifyOtp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,userEnteredOtp:d,newPassword:n})})).json();i({success:a.status,message:a.message}),a.success&&(c.success(a.message),x("/signin"))}catch{i({status:!1,message:"An error occurred during OTP verification."}),c.error("An error occurred during OTP verification.")}};return e.jsxs("section",{className:"flex flex-col items-center justify-center px-6 py-3 mx-auto lg:py-0",children:[e.jsx("img",{className:"w-40 h-40 mr-2",src:y,alt:"logo"}),e.jsxs("div",{className:"w-full p-6 bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md dark:bg-gray-800 dark:border-gray-700 sm:p-8",children:[e.jsx("h1",{className:"mb-1 text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"OTP VERIFICATION"}),e.jsx("p",{className:"font-light text-gray-500 dark:text-gray-400",children:"Check your email for OTP"}),e.jsxs("div",{className:"mt-4 space-y-4 lg:mt-5 md:space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),e.jsx("input",{type:"email",name:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",value:o,onChange:r=>m(r.target.value),required:!0}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"userEnteredOtp",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Enter your OTP"}),e.jsx("input",{type:"userEnteredOtp",name:"userEnteredOtp",id:"userEnteredOtp",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"enter your OTP",value:d,onChange:r=>u(r.target.value),required:!0})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Enter New Password"}),e.jsx("input",{type:"newPassword",name:"newPassword",id:"newPassword",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter New Password",value:n,onChange:r=>g(r.target.value),required:!0})]})]}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:e.jsx("button",{onClick:b,className:"block py-3 px-4 font-medium text-center text-indigo-950 bg-amber-400 hover:bg-amber-300 active:shadow-none rounded-lg shadow md:inline transition-all duration-300 ease-in-out mb-4 md:mb-0",children:"Verify OTP"})})]})]}),t!==null&&e.jsxs("div",{className:`mt-6  flex flex-col items-center ${t.success?"text-green-500":"text-red-500"}`,children:[e.jsx("p",{children:t.message}),t.success?e.jsx(l,{to:"/signin",className:" py-3 px-4 font-medium text-center text-indigo-950 bg-amber-400 hover:bg-amber-300 active:shadow-none rounded-lg shadow md:inline transition-all duration-300 ease-in-out mb-4 md:mb-0 mt-8",children:"Back to Sign in your account"}):e.jsx(l,{to:"/forgetpassword",className:"block py-3 px-4 font-medium text-center text-indigo-950 bg-amber-400 hover:bg-amber-300 active:shadow-none rounded-lg shadow md:inline transition-all duration-300 ease-in-out mb-4 md:mb-0 mt-8",children:"Resend OTP"})]})]})}export{f as default};
