import{r as s,j as e}from"./react-DiIsFRGf.js";import{_ as l}from"./react-hot-toast-BDpxPdYe.js";import{u as p}from"./react-router-Ck6p_Z-K.js";import{l as h}from"./ResetPasswordForm.jsx-M6wFfVUx.js";import{L as m}from"./react-router-dom-Cj7EZRaW.js";import"./@floating-ui-DNv8sKgv.js";import"./aria-hidden-DQ5UC2Eg.js";import"./tabbable-DNPBiPWX.js";import"./react-dom-byw35-pb.js";import"./scheduler-CzFDRTuY.js";import"./goober-vt3s6TGe.js";import"./@remix-run-Dj_uVd1O.js";import"./react-top-loading-bar-BLjLFdAM.js";function V(){const[o,c]=s.useState(""),[i,u]=s.useState(""),[d,g]=s.useState(""),[t,n]=s.useState(null),x=p(),b=async()=>{try{const a=await(await fetch("server/auth/verifyOtp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,userEnteredOtp:i,newPassword:d})})).json();n({success:a.status,message:a.message}),a.success&&(l.success(a.message),x("/signin"))}catch{n({status:!1,message:"An error occurred during OTP verification."}),l.error("An error occurred during OTP verification.")}};return e.jsxs("section",{className:"flex flex-col items-center justify-center px-6 py-3 mx-auto lg:py-0",children:[e.jsx("img",{className:"w-40 h-40 mr-2",src:h,alt:"logo"}),e.jsxs("div",{className:"w-full p-6 bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md dark:bg-gray-800 dark:border-gray-700 sm:p-8",children:[e.jsx("h1",{className:"mb-1 text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white",children:"OTP VERIFICATION"}),e.jsx("p",{className:"font-light text-gray-500 dark:text-gray-400",children:"Check your email for OTP"}),e.jsxs("div",{className:"mt-4 space-y-4 lg:mt-5 md:space-y-5",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Your email"}),e.jsx("input",{type:"email",name:"email",id:"email",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"name@company.com",value:o,onChange:r=>c(r.target.value),required:!0}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"userEnteredOtp",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Enter your OTP"}),e.jsx("input",{type:"userEnteredOtp",name:"userEnteredOtp",id:"userEnteredOtp",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"enter your OTP",value:i,onChange:r=>u(r.target.value),required:!0})]}),e.jsx("br",{}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"newPassword",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Enter New Password"}),e.jsx("input",{type:"newPassword",name:"newPassword",id:"newPassword",className:"bg-gray-50 border border-gray-300 text-gray-900 sm:text-sm rounded-lg focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:"Enter New Password",value:d,onChange:r=>g(r.target.value),required:!0})]})]}),e.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:e.jsx("button",{onClick:b,className:"block py-3 px-4 font-medium text-center text-indigo-950 bg-amber-400 hover:bg-amber-300 active:shadow-none rounded-lg shadow md:inline transition-all duration-300 ease-in-out mb-4 md:mb-0",children:"Verify OTP"})})]})]}),t!==null&&e.jsxs("div",{className:`mt-6  flex flex-col items-center ${t.success?"text-green-500":"text-red-500"}`,children:[e.jsx("p",{children:t.message}),t.success?e.jsx(m,{to:"/signin",className:" py-3 px-4 font-medium text-center text-indigo-950 bg-amber-400 hover:bg-amber-300 active:shadow-none rounded-lg shadow md:inline transition-all duration-300 ease-in-out mb-4 md:mb-0 mt-8",children:"Back to Sign in your account"}):e.jsx(m,{to:"/forgetpassword",className:"block py-3 px-4 font-medium text-center text-indigo-950 bg-amber-400 hover:bg-amber-300 active:shadow-none rounded-lg shadow md:inline transition-all duration-300 ease-in-out mb-4 md:mb-0 mt-8",children:"Resend OTP"})]})]})}export{V as default};
