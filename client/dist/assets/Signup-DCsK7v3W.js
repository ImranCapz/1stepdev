import{r as s,u as C,j as e,e as S,l as P,ar as k,X as E,L as F,_ as L}from"./index-D04hwy3T.js";import{f as A}from"./index-oQQ0I35d.js";const q=()=>{const[r,x]=s.useState({}),[o,d]=s.useState(!1),[c,n]=s.useState(!1),[g,p]=s.useState(""),[u,m]=s.useState(!1),f=C(),i=s.useRef(null),h=o||u?"#ff0000":"#ff9900",l=t=>{x({...r,[t.target.id]:t.target.value})},y=t=>{p(t.target.value)},[a,j]=s.useState(!1),b=()=>{j(!a)},w=async t=>{if(t.preventDefault(),r.password!==g){m(!0);return}else m(!1);try{i.current.continuousStart(100),n(!0);const N=await(await fetch("server/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})).json();if(n(!1),N.success===!0){d(!0);return}L.success("Account Created Successfully"),f("/signin")}catch{n(!1),d(!0)}finally{i.current.complete()}};return e.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsx(S,{ref:i,color:h,height:4}),e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsx("img",{className:"mx-auto h-10 w-auto",src:P,alt:"Your Company"}),e.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Create a new 1Step Account"})]}),e.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsxs("form",{className:"space-y-6",onSubmit:w,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"username",className:"block text-sm font-medium leading-6 text-gray-900",children:"Name"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"username",type:"text",onChange:l,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring- hover:border-purple-400"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"email",type:"email",onChange:l,autoComplete:"email",required:!0,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring-0 hover:border-purple-400"})})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),e.jsxs("div",{className:"mt-2 relative rounded-md shadow-sm",children:[e.jsx("input",{id:"password",onChange:l,type:a?"text":"password",autoComplete:"current-password",required:!0,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring- hover:border-purple-400"}),e.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center text-sm leading-5",children:e.jsx("button",{type:"button",onClick:b,children:a?e.jsx(k,{className:"text-gray-700"}):e.jsx(A,{className:"text-gray-500"})})})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium leading-6 text-gray-900",children:"Re-enter Password"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"confirmPassword",onChange:y,type:a?"text":"password",autoComplete:"current-password",required:!0,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring- hover:border-purple-400"})})]}),e.jsx("div",{children:e.jsx("button",{disabled:c,type:"submit",className:"flex w-full justify-center rounded-md bg-amber-400 px-3 py-1.5 text-sm font-semibold leading-6 text-indigo-950 shadow-sm hover:bg-amber-300 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-all duration-300 ease-in-out",children:c?"Loading...":"Create Account"})}),e.jsx(E,{redirect:"/"})]}),e.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Already have an account?"," ",e.jsx(F,{to:"/signin",className:"font-semibold leading-6 text-neutral-900 hover:text-slate-500 transition-all duration-300 ease-in-out",children:"Sign in"})]}),e.jsx("p",{className:"mt-5 text-red-700",children:o&&"Username already exist"}),e.jsx("p",{className:"mt-5 text-red-700",children:u&&"Password not match"})]})]})};export{q as default};
