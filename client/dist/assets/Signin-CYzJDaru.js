import{r as d,a as w,u as N,b as S,j as e,k as C,l as k,a5 as D,L as g,ae as F,aT as L,aU as x,_ as h,aV as E}from"./index-iykSrfgj.js";import{b as P}from"./index-ac0SCXiG.js";const T=()=>{const[n,f]=d.useState({email:""}),[r,p]=d.useState(!1),{loading:m,error:l}=w(s=>s.user),b=N(),i=S(),o=d.useRef(null),u=s=>{const a=s.target.id,t=s.target.value;if(a==="email"){const c=t.split(".com");if(c.length>2||c.length===2&&c[1]!=="")return}f({...n,[a]:t})},j=async s=>{s.preventDefault();try{o.current.continuousStart(100),i(L());const t=await(await fetch("server/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).json();if(t.success===!0){i(x(t)),h.error(t.message);return}i(E(t)),h.success("Successfully Login"),b("/")}catch(a){i(x(a))}finally{o.current.complete()}},y=s=>{s.preventDefault(),p(!r)},v=l?"#ff0000":"#ff9900";return e.jsxs("div",{className:"flex min-h-full flex-1 flex-col justify-center px-6 py-12 lg:px-8",children:[e.jsx(C,{ref:o,color:v,height:3}),e.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsx("img",{className:"mx-auto h-10 w-auto",src:k,alt:"Your Company"}),e.jsx("h2",{className:"mt-10 text-center text-2xl font-bold leading-9 tracking-tight text-gray-900",children:"Sign in"})]}),e.jsxs("div",{className:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm",children:[e.jsxs("form",{className:"space-y-6",onSubmit:j,children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium leading-6 text-gray-900",children:"Email address"}),e.jsx("div",{className:"mt-2",children:e.jsx("input",{id:"email",name:"email",type:"email",onChange:u,value:n.email,autoComplete:"email",required:!0,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring-0 hover:border-purple-400"})})]}),e.jsxs("div",{className:"mt-8",children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium leading-6 text-gray-900",children:"Password"}),e.jsxs("div",{className:"mt-2 relative rounded-md shadow-sm",children:[e.jsx("input",{id:"password",name:"password",onChange:u,type:r?"text":"password",autoComplete:"current-password",required:!0,className:"block w-full p-3 rounded-lg ring-1 input ring-inset ring-gray- py-1.5 focus:ring-0 hover:border-purple-400"}),e.jsx("div",{className:"absolute right-0 inset-y-2 pr-3 leading-2 items-center flex",children:e.jsx("button",{type:"button",onClick:y,children:r?e.jsx(D,{className:"text-gray-700"}):e.jsx(P,{className:"text-gray-500"})})})]})]}),e.jsx(g,{to:"/forgetpassword",className:"self-end flex font-semibold leading-6 text-neutral-900 hover:text-slate-400 transition-all duration-300 ease-in-out",children:"Forget Password.?"}),e.jsx("div",{children:e.jsx("button",{disabled:m,type:"submit",className:"flex w-full justify-center rounded-md bg-amber-400 px-3 py-1.5 text-sm font-semibold leading-6 text-indigo-950 shadow-sm hover:bg-amber-300  focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600 transition-all duration-300 ease-in-out",children:m?"Loading...":"Sign in"})}),e.jsx(F,{redirect:"/"})]}),e.jsxs("p",{className:"mt-10 text-center text-sm text-gray-500",children:["Don't have an account?"," ",e.jsx(g,{to:"/signup",className:"font-semibold leading-6 text-neutral-900 hover:text-slate-400 transition-all duration-300 ease-in-out",children:"Register"})]})]}),e.jsx("p",{className:"text-red-700 mt-5",children:l?l.message||"Something went wrong":""})]})};export{T as default};
